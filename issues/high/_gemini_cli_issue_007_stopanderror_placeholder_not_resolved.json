{
  "issue_id": "_gemini_cli_issue_007",
  "title": "StopAndError node: 'errorObject' property placeholder value not resolved from variable",
  "severity": "high",
  "status": "new",
  "priority": 2,
  "metadata": {
    "created_at": "2025-11-13T17:35:00Z",
    "created_by": "gemini_cli",
    "affected_nodes": "StopAndError (potentially other nodes where property values are defined as variables)",
    "validation_session": "comprehensive_audit_2025-11-13"
  },
  "description": {
    "problem": "The 'placeholder' value for the 'errorObject' property in the StopAndError node is 'null' in the extracted JSON, instead of resolving to the value of the 'errorObjectPlaceholder' variable defined in the source file.",
    "impact": "HIGH - Loss of critical user guidance. The placeholder provides an example of the expected JSON structure for the error object, which is essential for correct usage. Without it, users may struggle to format the error object correctly.",
    "root_cause": "The extraction logic for property values fails to resolve variables used to define those values. It likely only parses literal string or number assignments, not variable references.",
    "evidence": [
      "Source file: n8n/packages/nodes-base/nodes/StopAndError/StopAndError.node.ts",
      "Source snippet (variable definition): const errorObjectPlaceholder = `{ \"code\": \"404\", \"description\": \"The resource could not be fetched\" }`;",
      "Source snippet (property definition): placeholder: errorObjectPlaceholder,",
      "Extracted file: extracted_docs/stopanderror_data.json",
      "Extracted property 'errorObject' placeholder: null",
      "Command used to verify: jq '.properties[] | select(.name == \"errorObject\") | .placeholder' extracted_docs/stopanderror_data.json and manual comparison with source."
    ],
    "fix_approach": "1. Enhance the extraction logic to identify and resolve variable references used for property values (e.g., 'placeholder', 'default'). \n2. This might involve a simple AST traversal or regex to find variable declarations and substitute their values. \n3. Test with: StopAndError node. \n4. Expected result: The 'placeholder' for 'errorObject' in 'stopanderror_data.json' should be `{ \"code\": \"404\", \"description\": \"The resource could not be fetched\" }`. \n5. Validation command: jq '.properties[] | select(.name == \"errorObject\") | .placeholder' extracted_docs/stopanderror_data.json should return the full string."
  },
  "ownership": {
    "assigned_to": null,
    "locked_by": null,
    "lock_acquired_at": null,
    "lock_expires_at": null,
    "claimed_at": null
  }
}