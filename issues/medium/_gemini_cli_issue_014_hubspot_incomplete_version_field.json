{
  "issue_id": "_gemini_cli_issue_014",
  "title": "HubSpot node: Incomplete 'version' field in extracted node_info",
  "severity": "medium",
  "status": "new",
  "priority": 2,
  "metadata": {
    "created_at": "2025-11-13T19:15:00Z",
    "created_by": "gemini_cli",
    "affected_nodes": "HubSpot, Slack, HttpRequest (potentially other versioned nodes)",
    "validation_session": "comprehensive_audit_2025-11-13"
  },
  "description": {
    "problem": "Multiple versioned nodes (e.g., HubSpot, Slack, HttpRequest) have an incomplete 'version' field in their extracted 'node_info'. For HubSpot, the extracted 'version' is missing '1'. The source 'Hubspot.node.ts' defines versions [1, 2, 2.1, 2.2]. For Slack, the extracted 'version' is missing '1'. The source 'Slack.node.ts' defines versions [1, 2, 2.1, 2.2, 2.3]. For HttpRequest, the extracted 'version' is missing '1' and '2'. The source 'HttpRequest.node.ts' defines versions [1, 2, 3, 4, 4.1, 4.2, 4.3].",
    "impact": "MEDIUM - Incomplete version information can lead to confusion about the node's history and compatibility. Users might not be aware of older versions or their specific functionalities.",
    "root_cause": "The extractor's logic for parsing version information from a VersionedNodeType might not be correctly aggregating all available versions, or it might be defaulting to a subset of versions.",
    "evidence": [
      "Source file: n8n/packages/nodes-base/nodes/Hubspot/Hubspot.node.ts",
      "Source snippet: nodeVersions: { 1: new HubspotV1(baseDescription), 2: new HubspotV2(baseDescription), 2.1: new HubspotV2(baseDescription), 2.2: new HubspotV2(baseDescription) }",
      "Extracted file: extracted_docs/hubspot_data.json",
      "Extracted node_info.version: [\"2\", \"2.1\", \"2.2\"]",
      "Source file: n8n/packages/nodes-base/nodes/Slack/Slack.node.ts",
      "Source snippet: nodeVersions: { 1: new SlackV1(baseDescription), 2: new SlackV2(baseDescription), 2.1: new SlackV2(baseDescription), 2.2: new SlackV2(baseDescription), 2.3: new SlackV2(baseDescription) }",
      "Extracted file: extracted_docs/slack_data.json",
      "Extracted node_info.version: [\"2\", \"2.1\", \"2.2\", \"2.3\"]",
      "Source file: n8n/packages/nodes-base/nodes/HttpRequest/HttpRequest.node.ts",
      "Source snippet: nodeVersions: { 1: new HttpRequestV1(baseDescription), 2: new HttpRequestV2(baseDescription), 3: new HttpRequestV3(baseDescription), 4: new HttpRequestV3(baseDescription), 4.1: new HttpRequestV3(baseDescription), 4.2: new HttpRequestV3(baseDescription), 4.3: new HttpRequestV3(baseDescription) }",
      "Extracted file: extracted_docs/httprequest_data.json",
      "Extracted node_info.version: [\"3\", \"4\", \"4.1\", \"4.2\", \"4.3\"]",
      "Command used to verify: jq '.node_info.version' extracted_docs/hubspot_data.json, jq '.node_info.version' extracted_docs/slack_data.json, jq '.node_info.version' extracted_docs/httprequest_data.json and manual comparison with source."
    ],
    "fix_approach": "1. Review the extraction logic for the 'version' field in VersionedNodeType nodes. \n2. Ensure that all versions defined in 'nodeVersions' are correctly extracted and included in the 'version' array. \n3. Test with: HubSpot, Slack, HttpRequest nodes. \n4. Expected result: 'hubspot_data.json' should have 'version: [\"1\", \"2\", \"2.1\", \"2.2\"]', 'slack_data.json' should have 'version: [\"1\", \"2\", \"2.1\", \"2.2\", \"2.2\", \"2.3\"]', and 'httprequest_data.json' should have 'version: [\"1\", \"2\", \"3\", \"4\", \"4.1\", \"4.2\", \"4.3\"]'. \n5. Validation command: jq '.node_info.version' extracted_docs/hubspot_data.json should return all versions, jq '.node_info.version' extracted_docs/slack_data.json should return all versions, and jq '.node_info.version' extracted_docs/httprequest_data.json should return all versions."
  "ownership": {
    "assigned_to": null,
    "locked_by": null,
    "lock_acquired_at": null,
    "lock_expires_at": null,
    "claimed_at": null
  }
}