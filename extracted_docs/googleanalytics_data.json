{
  "node_info": {
    "icon": "file:analytics.svg",
    "defaults": {
      "name": "Google Analytics"
    },
    "inputs": [
      "Main"
    ],
    "outputs": [
      "Main"
    ],
    "group": [
      "transform"
    ],
    "authentication": [
      {
        "name": "googleAnalyticsOAuth2",
        "required": true
      }
    ],
    "loadOptionsMethods": [],
    "eventTriggerDescription": "",
    "activationMessage": "",
    "triggerPanel": {},
    "supportsCORS": false,
    "displayName": "Google Analytics",
    "name": "googleAnalytics",
    "description": "Use the Google Analytics API",
    "subtitle": "={{$parameter[\"operation\"] + \": \" + $parameter[\"resource\"]}}",
    "version": "2",
    "node_type": "regular"
  },
  "metadata": {},
  "properties": [
    {
      "displayName": "Resource",
      "name": "resource",
      "type": "options",
      "value": "report",
      "default": "report",
      "noDataExpression": true,
      "options": [
        {
          "name": "Report",
          "value": "report",
          "displayName": "Report"
        },
        {
          "name": "User Activity",
          "value": "userActivity",
          "displayName": "User Activity"
        }
      ]
    },
    {
      "displayName": "Operation",
      "name": "operation",
      "type": "options",
      "description": "Return the analytics data",
      "action": "Get a report",
      "value": "get",
      "default": "get",
      "noDataExpression": true,
      "options": [
        {
          "name": "Get",
          "description": "Return the analytics data",
          "action": "Get a report",
          "value": "get",
          "displayName": "Get"
        }
      ],
      "displayOptions": {
        "show": {
          "resource": [
            "report"
          ]
        }
      },
      "_source": "report"
    },
    {
      "displayName": "Property Type",
      "name": "propertyType",
      "type": "options",
      "description": "Google Analytics 4 is the latest version. Universal Analytics is an older version that is not fully functional after the end of June 2023.",
      "value": "ga4",
      "default": "ga4",
      "noDataExpression": true,
      "options": [
        {
          "name": "Google Analytics 4",
          "value": "ga4",
          "displayName": "Google Analytics 4"
        },
        {
          "name": "Universal Analytics",
          "value": "universal",
          "displayName": "Universal Analytics"
        }
      ],
      "displayOptions": {
        "show": {
          "resource": [
            "report"
          ],
          "operation": [
            "get"
          ]
        }
      },
      "_operation": "get",
      "_source": "report"
    },
    {
      "displayName": "Property",
      "name": "propertyId",
      "type": "resourceLocator",
      "description": "The Property of Google Analytics",
      "placeholder": "Select a property...",
      "hint": "If this doesn't work, try changing the 'Property Type' field above",
      "required": true,
      "modes": [
        {
          "displayName": "From List",
          "name": "list",
          "type": "list",
          "placeholder": "Select a property...",
          "typeOptions": {}
        }
      ],
      "typeOptions": {},
      "displayOptions": {
        "show": {
          "resource": [
            "report"
          ],
          "operation": [
            "get"
          ],
          "propertyType": [
            "ga4"
          ]
        }
      },
      "_operation": "get"
    },
    {
      "displayName": "Date Range",
      "name": "dateRange",
      "type": "options",
      "value": "last7days",
      "default": "last7days",
      "required": true,
      "options": [
        {
          "name": "Last 7 Days",
          "value": "last7days",
          "displayName": "Last 7 Days"
        },
        {
          "name": "Last 30 Days",
          "value": "last30days",
          "displayName": "Last 30 Days"
        },
        {
          "name": "Today",
          "value": "today",
          "displayName": "Today"
        },
        {
          "name": "Yesterday",
          "value": "yesterday",
          "displayName": "Yesterday"
        },
        {
          "name": "Last Complete Calendar Week",
          "value": "lastCalendarWeek",
          "displayName": "Last Complete Calendar Week"
        },
        {
          "name": "Last Complete Calendar Month",
          "value": "lastCalendarMonth",
          "displayName": "Last Complete Calendar Month"
        },
        {
          "name": "Custom",
          "value": "custom",
          "displayName": "Custom"
        }
      ],
      "displayOptions": {
        "show": {
          "resource": [
            "report"
          ],
          "operation": [
            "get"
          ],
          "propertyType": [
            "ga4"
          ]
        }
      },
      "_operation": "get"
    },
    {
      "displayName": "Start",
      "name": "startDate",
      "type": "dateTime",
      "required": true,
      "displayOptions": {
        "show": {
          "resource": [
            "report"
          ],
          "operation": [
            "get"
          ],
          "dateRange": [
            "custom"
          ],
          "propertyType": [
            "ga4"
          ]
        }
      },
      "_operation": "get"
    },
    {
      "displayName": "End",
      "name": "endDate",
      "type": "dateTime",
      "required": true,
      "displayOptions": {
        "show": {
          "resource": [
            "report"
          ],
          "operation": [
            "get"
          ],
          "dateRange": [
            "custom"
          ],
          "propertyType": [
            "ga4"
          ]
        }
      },
      "_operation": "get"
    },
    {
      "displayName": "Metrics",
      "name": "metricsGA4",
      "type": "fixedCollection",
      "description": "The quantitative measurements of a report. For example, the metric eventCount is the total number of events. Requests are allowed up to 10 metrics.",
      "placeholder": "Add Metric",
      "default": "",
      "options": [
        {
          "name": "metricValues",
          "displayName": "Values",
          "values": [
            {
              "displayName": "Expression",
              "name": "expression",
              "type": "string",
              "description": "A mathematical expression for derived metrics. For example, the metric Event count per user is eventCount/totalUsers.",
              "placeholder": "e.g. eventCount/totalUsers",
              "default": "",
              "displayOptions": {
                "show": {
                  "listName": [
                    "custom"
                  ]
                }
              }
            },
            {
              "displayName": "Invisible",
              "name": "invisible",
              "type": "boolean",
              "description": "Whether a metric is invisible in the report response. If a metric is invisible, the metric will not produce a column in the response, but can be used in metricFilter, orderBys, or a metric expression.",
              "default": false,
              "displayOptions": {
                "show": {
                  "listName": [
                    "custom"
                  ]
                }
              }
            }
          ]
        }
      ],
      "typeOptions": {
        "multipleValues": true
      },
      "displayOptions": {
        "show": {
          "listName": [
            "custom"
          ]
        }
      }
    },
    {
      "displayName": "Dimensions to split by",
      "name": "dimensionsGA4",
      "type": "fixedCollection",
      "description": "Dimensions are attributes of your data. For example, the dimension city indicates the city from which an event originates. Dimension values in report responses are strings; for example, the city could be \"Paris\" or \"New York\". Requests are allowed up to 9 dimensions.",
      "placeholder": "Add Dimension",
      "default": {},
      "options": [
        {
          "name": "dimensionValues",
          "displayName": "Values",
          "values": []
        }
      ],
      "typeOptions": {
        "multipleValues": true
      },
      "displayOptions": {
        "show": {
          "resource": [
            "report"
          ],
          "operation": [
            "get"
          ],
          "propertyType": [
            "ga4"
          ]
        }
      },
      "_operation": "get"
    },
    {
      "displayName": "Return All",
      "name": "returnAll",
      "type": "boolean",
      "description": "Whether to return all results or only up to a given limit",
      "default": false,
      "displayOptions": {
        "show": {
          "operation": [
            "get"
          ],
          "resource": [
            "report"
          ],
          "propertyType": [
            "ga4"
          ]
        }
      },
      "_operation": "get"
    },
    {
      "displayName": "Limit",
      "name": "limit",
      "type": "number",
      "description": "Max number of results to return",
      "default": 50,
      "typeOptions": {
        "minValue": 1,
        "maxValue": 1000
      },
      "displayOptions": {
        "show": {
          "operation": [
            "get"
          ],
          "resource": [
            "report"
          ],
          "propertyType": [
            "ga4"
          ],
          "returnAll": [
            false
          ]
        }
      },
      "_operation": "get"
    },
    {
      "displayName": "Simplify Output",
      "name": "simple",
      "type": "boolean",
      "description": "Whether to return a simplified version of the response instead of the raw data",
      "default": true,
      "displayOptions": {
        "show": {
          "operation": [
            "get"
          ],
          "resource": [
            "report"
          ],
          "propertyType": [
            "ga4"
          ]
        }
      },
      "_operation": "get"
    },
    {
      "displayName": "Additional Fields",
      "name": "additionalFields",
      "type": "collection",
      "description": "A currency code in ISO4217 format, such as \"AED\", \"USD\", \"JPY\". If the field is empty, the report uses the property's default currency.",
      "placeholder": "Add Field",
      "value": "MAXIMUM",
      "default": {},
      "options": [
        {
          "displayName": "Currency Code",
          "name": "currencyCode",
          "type": "string",
          "description": "A currency code in ISO4217 format, such as \"AED\", \"USD\", \"JPY\". If the field is empty, the report uses the property's default currency.",
          "default": ""
        },
        {
          "displayName": "Metric Aggregation",
          "name": "metricAggregations",
          "type": "multiOptions",
          "value": "MAXIMUM",
          "default": [],
          "options": [
            {
              "name": "MAXIMUM",
              "value": "MAXIMUM",
              "displayName": "Maximum"
            },
            {
              "name": "MINIMUM",
              "value": "MINIMUM",
              "displayName": "Minimum"
            },
            {
              "name": "TOTAL",
              "value": "TOTAL",
              "displayName": "Total"
            }
          ],
          "displayOptions": {
            "show": {}
          }
        },
        {
          "displayName": "Keep Empty Rows",
          "name": "keepEmptyRows",
          "type": "boolean",
          "description": "Whether false or unspecified, each row with all metrics equal to 0 will not be returned. If true, these rows will be returned if they are not separately removed by a filter.",
          "default": false
        },
        {
          "displayName": "Order By",
          "name": "orderByUI",
          "type": "fixedCollection",
          "description": "Specifies how rows are ordered in the response",
          "placeholder": "Add Order",
          "value": "ALPHANUMERIC",
          "default": {},
          "options": [
            {
              "name": "metricOrderBy",
              "displayName": "Metric Order By",
              "values": [
                {
                  "displayName": "Descending",
                  "name": "desc",
                  "type": "boolean",
                  "description": "Whether true, sorts by descending order",
                  "default": false
                },
                {
                  "displayName": "Metric Name or ID",
                  "name": "metricName",
                  "type": "options",
                  "description": "Sorts by metric values. Choose from the list, or specify an ID using an <a href=\"https://docs.n8n.io/code/expressions/\">expression</a>.",
                  "default": "",
                  "typeOptions": {
                    "loadOptionsMethod": "getMetricsGA4"
                  }
                }
              ]
            },
            {
              "name": "dimmensionOrderBy",
              "displayName": "Dimmension Order By",
              "values": [
                {
                  "displayName": "Descending",
                  "name": "desc",
                  "type": "boolean",
                  "description": "Whether true, sorts by descending order",
                  "default": false
                },
                {
                  "displayName": "Dimmension Name or ID",
                  "name": "dimensionName",
                  "type": "options",
                  "description": "Sorts by metric values. Choose from the list, or specify an ID using an <a href=\"https://docs.n8n.io/code/expressions/\">expression</a>.",
                  "default": "",
                  "typeOptions": {
                    "loadOptionsMethod": "getDimensionsGA4"
                  }
                },
                {
                  "displayName": "Order Type",
                  "name": "orderType",
                  "type": "options",
                  "description": "Alphanumeric sort by Unicode code point",
                  "value": "ALPHANUMERIC",
                  "default": "ORDER_TYPE_UNSPECIFIED",
                  "options": [
                    {
                      "name": "Alphanumeric",
                      "description": "Alphanumeric sort by Unicode code point",
                      "value": "ALPHANUMERIC",
                      "displayName": "Alphanumeric"
                    },
                    {
                      "name": "Case Insensitive Alphanumeric",
                      "description": "Case insensitive alphanumeric sort by lower case Unicode code point",
                      "value": "CASE_INSENSITIVE_ALPHANUMERIC",
                      "displayName": "Case Insensitive Alphanumeric"
                    },
                    {
                      "name": "Numeric",
                      "description": "Dimension values are converted to numbers before sorting",
                      "value": "NUMERIC",
                      "displayName": "Numeric"
                    },
                    {
                      "name": "Unspecified",
                      "value": "ORDER_TYPE_UNSPECIFIED",
                      "displayName": "Unspecified"
                    }
                  ]
                }
              ]
            }
          ],
          "typeOptions": {
            "multipleValues": true
          }
        },
        {
          "displayName": "Return Property Quota",
          "name": "returnPropertyQuota",
          "type": "boolean",
          "description": "Whether to return the current state of this Analytics Property's quota. Quota is returned in PropertyQuota.",
          "default": false,
          "displayOptions": {
            "show": {}
          }
        }
      ],
      "typeOptions": {
        "multipleValues": true
      },
      "displayOptions": {
        "show": {
          "resource": [
            "report"
          ],
          "operation": [
            "get"
          ],
          "propertyType": [
            "ga4"
          ]
        }
      },
      "_operation": "get"
    },
    {
      "displayName": "Metric",
      "name": "listName",
      "type": "options",
      "value": "active1DayUsers",
      "default": "totalUsers",
      "options": [
        {
          "name": "1 Day Active Users",
          "value": "active1DayUsers",
          "displayName": "1 Day Active Users"
        },
        {
          "name": "28 Day Active Users",
          "value": "active28DayUsers",
          "displayName": "28 Day Active Users"
        },
        {
          "name": "7 Day Active Users",
          "value": "active7DayUsers",
          "displayName": "7 Day Active Users"
        },
        {
          "name": "Checkouts",
          "value": "checkouts",
          "displayName": "Checkouts"
        },
        {
          "name": "Events",
          "value": "eventCount",
          "displayName": "Events"
        },
        {
          "name": "Page Views",
          "value": "screenPageViews",
          "displayName": "Page Views"
        },
        {
          "name": "Session Duration",
          "value": "userEngagementDuration",
          "displayName": "Session Duration"
        },
        {
          "name": "Sessions",
          "value": "sessions",
          "displayName": "Sessions"
        },
        {
          "name": "Sessions per User",
          "value": "sessionsPerUser",
          "displayName": "Sessions Per User"
        },
        {
          "name": "Total Users",
          "value": "totalUsers",
          "displayName": "Total Users"
        },
        {
          "name": "Other metrics\u2026",
          "value": "other",
          "displayName": "Other Metrics\u2026"
        },
        {
          "name": "Custom metric\u2026",
          "value": "custom",
          "displayName": "Custom Metric\u2026"
        }
      ]
    },
    {
      "displayName": "Name or ID",
      "name": "name",
      "type": "options",
      "description": "The name of the metric. Choose from the list, or specify an ID using an <a href=\"https://docs.n8n.io/code/expressions/\">expression</a>.",
      "hint": "If expression is specified, name can be any string that you would like",
      "default": "totalUsers",
      "typeOptions": {
        "loadOptionsMethod": "getMetricsGA4"
      },
      "displayOptions": {
        "show": {
          "listName": [
            "other"
          ]
        }
      }
    },
    {
      "displayName": "Name",
      "name": "name",
      "type": "string",
      "default": "custom_metric",
      "displayOptions": {
        "show": {
          "listName": [
            "custom"
          ]
        }
      }
    },
    {
      "displayName": "Dimensions Filters",
      "name": "dimensionFiltersUI",
      "type": "fixedCollection",
      "placeholder": "Add Filter",
      "value": "andGroup",
      "default": {},
      "options": [
        {
          "name": "filterExpressions",
          "displayName": "Filter Expressions",
          "values": [
            {
              "displayName": "Filter Expression Type",
              "name": "filterExpressionType",
              "type": "options",
              "value": "andGroup",
              "default": "andGroup",
              "options": [
                {
                  "name": "And Group",
                  "value": "andGroup",
                  "displayName": "And Group"
                },
                {
                  "name": "Or Group",
                  "value": "orGroup",
                  "displayName": "Or Group"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "displayName": "Expression",
      "name": "expression",
      "type": "fixedCollection",
      "placeholder": "Add Expression",
      "hint": "Comma separated list of values. Must be non-empty.",
      "value": "BEGINS_WITH",
      "default": {},
      "noDataExpression": true,
      "options": [
        {
          "name": "stringFilter",
          "displayName": "String Filter",
          "values": [
            {
              "displayName": "Value",
              "name": "value",
              "type": "string",
              "default": ""
            },
            {
              "displayName": "Case Sensitive",
              "name": "caseSensitive",
              "type": "boolean",
              "default": true
            },
            {
              "displayName": "Match Type",
              "name": "matchType",
              "type": "options",
              "value": "BEGINS_WITH",
              "default": "EXACT",
              "options": [
                {
                  "name": "Begins With",
                  "value": "BEGINS_WITH",
                  "displayName": "Begins With"
                },
                {
                  "name": "Contains Value",
                  "value": "CONTAINS",
                  "displayName": "Contains Value"
                },
                {
                  "name": "Ends With",
                  "value": "ENDS_WITH",
                  "displayName": "Ends With"
                },
                {
                  "name": "Exact Match",
                  "value": "EXACT",
                  "displayName": "Exact Match"
                },
                {
                  "name": "Full Match for the Regular Expression",
                  "value": "FULL_REGEXP",
                  "displayName": "Full Match For The Regular Expression"
                },
                {
                  "name": "Partial Match for the Regular Expression",
                  "value": "PARTIAL_REGEXP",
                  "displayName": "Partial Match For The Regular Expression"
                }
              ]
            }
          ]
        },
        {
          "name": "inListFilter",
          "displayName": "In List Filter",
          "values": [
            {
              "displayName": "Values",
              "name": "values",
              "type": "string",
              "hint": "Comma separated list of values. Must be non-empty.",
              "default": ""
            },
            {
              "displayName": "Case Sensitive",
              "name": "caseSensitive",
              "type": "boolean",
              "default": true
            }
          ]
        },
        {
          "name": "numericFilter",
          "displayName": "Numeric Filter",
          "values": [
            {
              "displayName": "Value Type",
              "name": "valueType",
              "type": "options",
              "value": "doubleValue",
              "default": "doubleValue",
              "options": [
                {
                  "name": "Double Value",
                  "value": "doubleValue",
                  "displayName": "Double Value"
                },
                {
                  "name": "Integer Value",
                  "value": "int64Value",
                  "displayName": "Integer Value"
                }
              ]
            },
            {
              "displayName": "Value",
              "name": "value",
              "type": "string",
              "default": ""
            },
            {
              "displayName": "Operation",
              "name": "operation",
              "type": "options",
              "value": "EQUAL",
              "default": "EQUAL",
              "noDataExpression": true,
              "options": [
                {
                  "name": "Equal",
                  "value": "EQUAL",
                  "displayName": "Equal"
                },
                {
                  "name": "Greater Than",
                  "value": "GREATER_THAN",
                  "displayName": "Greater Than"
                },
                {
                  "name": "Greater than or Equal",
                  "value": "GREATER_THAN_OR_EQUAL",
                  "displayName": "Greater Than Or Equal"
                },
                {
                  "name": "Less Than",
                  "value": "LESS_THAN",
                  "displayName": "Less Than"
                },
                {
                  "name": "Less than or Equal",
                  "value": "LESS_THAN_OR_EQUAL",
                  "displayName": "Less Than Or Equal"
                }
              ]
            }
          ]
        }
      ],
      "typeOptions": {
        "multipleValues": true
      }
    },
    {
      "displayName": "Metrics Filters",
      "name": "metricsFiltersUI",
      "type": "fixedCollection",
      "placeholder": "Add Filter",
      "value": "andGroup",
      "default": {},
      "options": [
        {
          "name": "filterExpressions",
          "displayName": "Filter Expressions",
          "values": [
            {
              "displayName": "Filter Expression Type",
              "name": "filterExpressionType",
              "type": "options",
              "value": "andGroup",
              "default": "andGroup",
              "options": [
                {
                  "name": "And Group",
                  "value": "andGroup",
                  "displayName": "And Group"
                },
                {
                  "name": "Or Group",
                  "value": "orGroup",
                  "displayName": "Or Group"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "displayName": "View",
      "name": "viewId",
      "type": "resourceLocator",
      "description": "The View of Google Analytics",
      "placeholder": "Select a view...",
      "hint": "If this doesn't work, try changing the 'Property Type' field above",
      "required": true,
      "modes": [
        {
          "displayName": "From List",
          "name": "list",
          "type": "list",
          "placeholder": "Select a view...",
          "typeOptions": {}
        }
      ],
      "typeOptions": {},
      "displayOptions": {
        "show": {
          "resource": [
            "report"
          ],
          "operation": [
            "get"
          ],
          "propertyType": [
            "universal"
          ]
        }
      },
      "_operation": "get"
    },
    {
      "displayName": "Date Range",
      "name": "dateRange",
      "type": "options",
      "value": "last7days",
      "default": "last7days",
      "required": true,
      "options": [
        {
          "name": "Last 7 Days",
          "value": "last7days",
          "displayName": "Last 7 Days"
        },
        {
          "name": "Last 30 Days",
          "value": "last30days",
          "displayName": "Last 30 Days"
        },
        {
          "name": "Today",
          "value": "today",
          "displayName": "Today"
        },
        {
          "name": "Yesterday",
          "value": "yesterday",
          "displayName": "Yesterday"
        },
        {
          "name": "Last Complete Calendar Week",
          "value": "lastCalendarWeek",
          "displayName": "Last Complete Calendar Week"
        },
        {
          "name": "Last Complete Calendar Month",
          "value": "lastCalendarMonth",
          "displayName": "Last Complete Calendar Month"
        },
        {
          "name": "Custom",
          "value": "custom",
          "displayName": "Custom"
        }
      ],
      "displayOptions": {
        "show": {
          "resource": [
            "report"
          ],
          "operation": [
            "get"
          ],
          "propertyType": [
            "universal"
          ]
        }
      },
      "_operation": "get"
    },
    {
      "displayName": "Start",
      "name": "startDate",
      "type": "dateTime",
      "required": true,
      "displayOptions": {
        "show": {
          "resource": [
            "report"
          ],
          "operation": [
            "get"
          ],
          "propertyType": [
            "universal"
          ],
          "dateRange": [
            "custom"
          ]
        }
      },
      "_operation": "get"
    },
    {
      "displayName": "End",
      "name": "endDate",
      "type": "dateTime",
      "required": true,
      "displayOptions": {
        "show": {
          "resource": [
            "report"
          ],
          "operation": [
            "get"
          ],
          "propertyType": [
            "universal"
          ],
          "dateRange": [
            "custom"
          ]
        }
      },
      "_operation": "get"
    },
    {
      "displayName": "Metrics",
      "name": "metricsUA",
      "type": "fixedCollection",
      "description": "Metrics in the request",
      "placeholder": "Add metric",
      "hint": "If expression is specified, name can be any string that you would like",
      "value": "ga:productCheckouts",
      "default": "ga:users",
      "options": [
        {
          "name": "metricValues",
          "displayName": "Metric",
          "values": [
            {
              "displayName": "Metric",
              "name": "listName",
              "type": "options",
              "value": "ga:productCheckouts",
              "default": "ga:users",
              "options": [
                {
                  "name": "Checkouts",
                  "value": "ga:productCheckouts",
                  "displayName": "Checkouts"
                },
                {
                  "name": "Events",
                  "value": "ga:totalEvents",
                  "displayName": "Events"
                },
                {
                  "name": "Page Views",
                  "value": "ga:pageviews",
                  "displayName": "Page Views"
                },
                {
                  "name": "Session Duration",
                  "value": "ga:sessionDuration",
                  "displayName": "Session Duration"
                },
                {
                  "name": "Sessions",
                  "value": "ga:sessions",
                  "displayName": "Sessions"
                },
                {
                  "name": "Sessions per User",
                  "value": "ga:sessionsPerUser",
                  "displayName": "Sessions Per User"
                },
                {
                  "name": "Total Users",
                  "value": "ga:users",
                  "displayName": "Total Users"
                },
                {
                  "name": "Other metrics\u2026",
                  "value": "other",
                  "displayName": "Other Metrics\u2026"
                },
                {
                  "name": "Custom metric\u2026",
                  "value": "custom",
                  "displayName": "Custom Metric\u2026"
                }
              ]
            },
            {
              "displayName": "Name or ID",
              "name": "name",
              "type": "options",
              "description": "The name of the metric. Choose from the list, or specify an ID using an <a href=\"https://docs.n8n.io/code/expressions/\">expression</a>.",
              "hint": "If expression is specified, name can be any string that you would like",
              "default": "ga:users",
              "typeOptions": {
                "loadOptionsMethod": "getMetrics"
              },
              "displayOptions": {
                "show": {
                  "listName": [
                    "other"
                  ]
                }
              }
            },
            {
              "displayName": "Name",
              "name": "name",
              "type": "string",
              "default": "custom_metric",
              "displayOptions": {
                "show": {
                  "listName": [
                    "custom"
                  ]
                }
              }
            },
            {
              "displayName": "Expression",
              "name": "expression",
              "type": "string",
              "description": "Learn more about Google Analytics <a href=\"https://developers.google.com/analytics/devguides/reporting/core/v4/rest/v4/reports/batchGet#Metric\">metric expressions</a>",
              "placeholder": "e.g. ga:totalRefunds/ga:users",
              "default": "",
              "displayOptions": {
                "show": {
                  "listName": [
                    "custom"
                  ]
                }
              }
            },
            {
              "displayName": "Formatting Type",
              "name": "formattingType",
              "type": "options",
              "description": "Specifies how the metric expression should be formatted",
              "value": "CURRENCY",
              "default": "INTEGER",
              "options": [
                {
                  "name": "Currency",
                  "value": "CURRENCY",
                  "displayName": "Currency"
                },
                {
                  "name": "Float",
                  "value": "FLOAT",
                  "displayName": "Float"
                },
                {
                  "name": "Integer",
                  "value": "INTEGER",
                  "displayName": "Integer"
                },
                {
                  "name": "Percent",
                  "value": "PERCENT",
                  "displayName": "Percent"
                },
                {
                  "name": "Time",
                  "value": "TIME",
                  "displayName": "Time"
                }
              ],
              "displayOptions": {
                "show": {
                  "listName": [
                    "custom"
                  ]
                }
              }
            }
          ]
        }
      ],
      "typeOptions": {
        "multipleValues": true
      },
      "displayOptions": {
        "show": {
          "listName": [
            "other"
          ]
        }
      }
    },
    {
      "displayName": "Dimensions to split by",
      "name": "dimensionsUA",
      "type": "fixedCollection",
      "description": "Dimensions are attributes of your data. For example, the dimension ga:city indicates the city, for example, \"Paris\" or \"New York\", from which a session originates.",
      "placeholder": "Add Dimension",
      "default": {},
      "options": [
        {
          "name": "dimensionValues",
          "displayName": "Values",
          "values": []
        }
      ],
      "typeOptions": {
        "multipleValues": true
      },
      "displayOptions": {
        "show": {
          "resource": [
            "report"
          ],
          "operation": [
            "get"
          ],
          "propertyType": [
            "universal"
          ]
        }
      },
      "_operation": "get"
    },
    {
      "displayName": "Return All",
      "name": "returnAll",
      "type": "boolean",
      "description": "Whether to return all results or only up to a given limit",
      "default": false,
      "displayOptions": {
        "show": {
          "operation": [
            "get"
          ],
          "resource": [
            "report"
          ],
          "propertyType": [
            "universal"
          ]
        }
      },
      "_operation": "get"
    },
    {
      "displayName": "Limit",
      "name": "limit",
      "type": "number",
      "description": "Max number of results to return",
      "default": 50,
      "typeOptions": {
        "minValue": 1,
        "maxValue": 1000
      },
      "displayOptions": {
        "show": {
          "operation": [
            "get"
          ],
          "resource": [
            "report"
          ],
          "propertyType": [
            "universal"
          ],
          "returnAll": [
            false
          ]
        }
      },
      "_operation": "get"
    },
    {
      "displayName": "Simplify Output",
      "name": "simple",
      "type": "boolean",
      "description": "Whether to return a simplified version of the response instead of the raw data",
      "default": true,
      "displayOptions": {
        "show": {
          "operation": [
            "get"
          ],
          "resource": [
            "report"
          ],
          "propertyType": [
            "universal"
          ]
        }
      },
      "_operation": "get"
    },
    {
      "displayName": "Additional Fields",
      "name": "additionalFields",
      "type": "collection",
      "description": "Dimension Filters in the request",
      "placeholder": "Add Field",
      "value": "BEGINS_WITH",
      "default": {},
      "options": [
        {
          "displayName": "Dimension Filters",
          "name": "dimensionFiltersUi",
          "type": "fixedCollection",
          "description": "Dimension Filters in the request",
          "placeholder": "Add Dimension Filter",
          "value": "BEGINS_WITH",
          "default": {},
          "options": [
            {
              "name": "filterValues",
              "displayName": "Filters",
              "values": [
                {
                  "displayName": "Operator",
                  "name": "operator",
                  "type": "options",
                  "description": "Operator to use in combination with value",
                  "value": "BEGINS_WITH",
                  "default": "EXACT",
                  "options": [
                    {
                      "name": "Begins With",
                      "value": "BEGINS_WITH",
                      "displayName": "Begins With"
                    },
                    {
                      "name": "Ends With",
                      "value": "ENDS_WITH",
                      "displayName": "Ends With"
                    },
                    {
                      "name": "Equals (Number)",
                      "value": "NUMERIC_EQUAL",
                      "displayName": "Equals (number)"
                    },
                    {
                      "name": "Exactly Matches",
                      "value": "EXACT",
                      "displayName": "Exactly Matches"
                    },
                    {
                      "name": "Greater Than (Number)",
                      "value": "NUMERIC_GREATER_THAN",
                      "displayName": "Greater Than (number)"
                    },
                    {
                      "name": "Less Than (Number)",
                      "value": "NUMERIC_LESS_THAN",
                      "displayName": "Less Than (number)"
                    },
                    {
                      "name": "Partly Matches",
                      "value": "PARTIAL",
                      "displayName": "Partly Matches"
                    },
                    {
                      "name": "Regular Expression",
                      "value": "REGEXP",
                      "displayName": "Regular Expression"
                    }
                  ]
                },
                {
                  "displayName": "Value",
                  "name": "expressions",
                  "type": "string",
                  "description": "String or <a href=\"https://support.google.com/analytics/answer/1034324?hl=en\">regular expression</a> to match against",
                  "default": ""
                }
              ]
            }
          ],
          "typeOptions": {
            "multipleValues": true
          }
        },
        {
          "displayName": "Hide Totals",
          "name": "hideTotals",
          "type": "boolean",
          "description": "Whether to hide the total of all metrics for all the matching rows, for every date range",
          "default": false,
          "displayOptions": {
            "show": {}
          }
        },
        {
          "displayName": "Hide Value Ranges",
          "name": "hideValueRanges",
          "type": "boolean",
          "description": "Whether to hide the minimum and maximum across all matching rows",
          "default": false,
          "displayOptions": {
            "show": {}
          }
        },
        {
          "displayName": "Include Empty Rows",
          "name": "includeEmptyRows",
          "type": "boolean",
          "description": "Whether the response exclude rows if all the retrieved metrics are equal to zero",
          "default": false
        },
        {
          "displayName": "Use Resource Quotas",
          "name": "useResourceQuotas",
          "type": "boolean",
          "description": "Whether to enable resource based quotas",
          "default": false,
          "displayOptions": {
            "show": {}
          }
        }
      ],
      "typeOptions": {
        "multipleValues": true
      },
      "displayOptions": {
        "show": {
          "resource": [
            "report"
          ],
          "operation": [
            "get"
          ],
          "propertyType": [
            "universal"
          ]
        }
      },
      "_operation": "get"
    },
    {
      "displayName": "Operation",
      "name": "operation",
      "type": "options",
      "description": "Return user activity data",
      "action": "Search user activity data",
      "value": "search",
      "default": "search",
      "noDataExpression": true,
      "options": [
        {
          "name": "Search",
          "description": "Return user activity data",
          "action": "Search user activity data",
          "value": "search",
          "displayName": "Search"
        }
      ],
      "displayOptions": {
        "show": {
          "resource": [
            "userActivity"
          ]
        }
      },
      "_source": "userActivity"
    },
    {
      "displayName": "View Name or ID",
      "name": "viewId",
      "type": "options",
      "description": "The view from Google Analytics. Choose from the list, or specify an ID using an <a href=\"https://docs.n8n.io/code/expressions/\">expression</a>.",
      "placeholder": "123456",
      "hint": "If there's nothing here, try changing the 'Property type' field above",
      "default": "",
      "required": true,
      "typeOptions": {
        "loadOptionsMethod": "getViews"
      },
      "displayOptions": {
        "show": {
          "resource": [
            "userActivity"
          ],
          "operation": [
            "search"
          ]
        }
      },
      "_operation": "search"
    },
    {
      "displayName": "User ID",
      "name": "userId",
      "type": "string",
      "description": "ID of a user",
      "placeholder": "123456",
      "default": "",
      "required": true,
      "displayOptions": {
        "show": {
          "resource": [
            "userActivity"
          ],
          "operation": [
            "search"
          ]
        }
      },
      "_operation": "search"
    },
    {
      "displayName": "Return All",
      "name": "returnAll",
      "type": "boolean",
      "description": "Whether to return all results or only up to a given limit",
      "default": false,
      "displayOptions": {
        "show": {
          "operation": [
            "search"
          ],
          "resource": [
            "userActivity"
          ]
        }
      },
      "_operation": "search"
    },
    {
      "displayName": "Limit",
      "name": "limit",
      "type": "number",
      "description": "Max number of results to return",
      "default": 100,
      "typeOptions": {
        "minValue": 1,
        "maxValue": 500
      },
      "displayOptions": {
        "show": {
          "operation": [
            "search"
          ],
          "resource": [
            "userActivity"
          ],
          "returnAll": [
            false
          ]
        }
      },
      "_operation": "search"
    },
    {
      "displayName": "Additional Fields",
      "name": "additionalFields",
      "type": "collection",
      "description": "Type of activites requested",
      "placeholder": "Add Field",
      "value": "ECOMMERCE",
      "default": {},
      "options": [
        {
          "displayName": "Activity Types",
          "name": "activityTypes",
          "type": "multiOptions",
          "description": "Type of activites requested",
          "value": "ECOMMERCE",
          "default": [],
          "options": [
            {
              "name": "Ecommerce",
              "value": "ECOMMERCE",
              "displayName": "Ecommerce"
            },
            {
              "name": "Event",
              "value": "EVENT",
              "displayName": "Event"
            },
            {
              "name": "Goal",
              "value": "GOAL",
              "displayName": "Goal"
            },
            {
              "name": "Pageview",
              "value": "PAGEVIEW",
              "displayName": "Pageview"
            },
            {
              "name": "Screenview",
              "value": "SCREENVIEW",
              "displayName": "Screenview"
            }
          ]
        }
      ],
      "displayOptions": {
        "show": {
          "operation": [
            "search"
          ],
          "resource": [
            "userActivity"
          ]
        }
      },
      "_operation": "search"
    }
  ],
  "operations": [
    {
      "name": "Get",
      "description": "Return the analytics data",
      "action": "Get a report",
      "value": "get",
      "displayName": "Get"
    },
    {
      "name": "Search",
      "description": "Return user activity data",
      "action": "Search user activity data",
      "value": "search",
      "displayName": "Search"
    }
  ],
  "operations_by_resource": {
    "report": [
      {
        "name": "Get",
        "description": "Return the analytics data",
        "action": "Get a report",
        "value": "get",
        "displayName": "Get"
      }
    ],
    "userActivity": [
      {
        "name": "Search",
        "description": "Return user activity data",
        "action": "Search user activity data",
        "value": "search",
        "displayName": "Search"
      }
    ]
  },
  "credentials": [
    {
      "name": "googleAnalyticsOAuth2",
      "required": true
    }
  ],
  "workflow_examples": [],
  "expressions": [
    "={{$parameter[\"operation\"] + \": \" + $parameter[\"resource\"]}}"
  ],
  "validation_rules": {
    "operation": {
      "displayOptions": {
        "show": {
          "resource": [
            "userActivity"
          ]
        }
      }
    },
    "propertyType": {
      "displayOptions": {
        "show": {
          "resource": [
            "report"
          ],
          "operation": [
            "get"
          ]
        }
      }
    },
    "propertyId": {
      "required": true,
      "displayOptions": {
        "show": {
          "resource": [
            "report"
          ],
          "operation": [
            "get"
          ],
          "propertyType": [
            "ga4"
          ]
        }
      }
    },
    "dateRange": {
      "required": true,
      "displayOptions": {
        "show": {
          "resource": [
            "report"
          ],
          "operation": [
            "get"
          ],
          "propertyType": [
            "universal"
          ]
        }
      }
    },
    "startDate": {
      "required": true,
      "displayOptions": {
        "show": {
          "resource": [
            "report"
          ],
          "operation": [
            "get"
          ],
          "propertyType": [
            "universal"
          ],
          "dateRange": [
            "custom"
          ]
        }
      }
    },
    "endDate": {
      "required": true,
      "displayOptions": {
        "show": {
          "resource": [
            "report"
          ],
          "operation": [
            "get"
          ],
          "propertyType": [
            "universal"
          ],
          "dateRange": [
            "custom"
          ]
        }
      }
    },
    "metricsGA4": {
      "displayOptions": {
        "show": {
          "listName": [
            "custom"
          ]
        }
      }
    },
    "dimensionsGA4": {
      "displayOptions": {
        "show": {
          "resource": [
            "report"
          ],
          "operation": [
            "get"
          ],
          "propertyType": [
            "ga4"
          ]
        }
      }
    },
    "returnAll": {
      "displayOptions": {
        "show": {
          "operation": [
            "search"
          ],
          "resource": [
            "userActivity"
          ]
        }
      }
    },
    "limit": {
      "displayOptions": {
        "show": {
          "operation": [
            "search"
          ],
          "resource": [
            "userActivity"
          ],
          "returnAll": [
            false
          ]
        }
      }
    },
    "simple": {
      "displayOptions": {
        "show": {
          "operation": [
            "get"
          ],
          "resource": [
            "report"
          ],
          "propertyType": [
            "universal"
          ]
        }
      }
    },
    "additionalFields": {
      "displayOptions": {
        "show": {
          "operation": [
            "search"
          ],
          "resource": [
            "userActivity"
          ]
        }
      }
    },
    "name": {
      "displayOptions": {
        "show": {
          "listName": [
            "custom"
          ]
        }
      }
    },
    "viewId": {
      "required": true,
      "displayOptions": {
        "show": {
          "resource": [
            "userActivity"
          ],
          "operation": [
            "search"
          ]
        }
      }
    },
    "metricsUA": {
      "displayOptions": {
        "show": {
          "listName": [
            "other"
          ]
        }
      }
    },
    "dimensionsUA": {
      "displayOptions": {
        "show": {
          "resource": [
            "report"
          ],
          "operation": [
            "get"
          ],
          "propertyType": [
            "universal"
          ]
        }
      }
    },
    "userId": {
      "required": true,
      "displayOptions": {
        "show": {
          "resource": [
            "userActivity"
          ],
          "operation": [
            "search"
          ]
        }
      }
    }
  },
  "type_info": {
    "resource": {
      "type": "options",
      "displayName": "Resource",
      "name": "resource",
      "possibleValues": [
        {
          "value": "report",
          "name": "Report",
          "description": ""
        },
        {
          "value": "userActivity",
          "name": "User Activity",
          "description": ""
        }
      ]
    },
    "operation": {
      "type": "options",
      "displayName": "Operation",
      "name": "operation",
      "possibleValues": [
        {
          "value": "search",
          "name": "Search",
          "description": "Return user activity data"
        }
      ]
    },
    "propertyType": {
      "type": "options",
      "displayName": "Property Type",
      "name": "propertyType",
      "possibleValues": [
        {
          "value": "ga4",
          "name": "Google Analytics 4",
          "description": ""
        },
        {
          "value": "universal",
          "name": "Universal Analytics",
          "description": ""
        }
      ]
    },
    "propertyId": {
      "type": "resourceLocator",
      "displayName": "Property",
      "name": "propertyId"
    },
    "dateRange": {
      "type": "options",
      "displayName": "Date Range",
      "name": "dateRange",
      "possibleValues": [
        {
          "value": "last7days",
          "name": "Last 7 Days",
          "description": ""
        },
        {
          "value": "last30days",
          "name": "Last 30 Days",
          "description": ""
        },
        {
          "value": "today",
          "name": "Today",
          "description": ""
        },
        {
          "value": "yesterday",
          "name": "Yesterday",
          "description": ""
        },
        {
          "value": "lastCalendarWeek",
          "name": "Last Complete Calendar Week",
          "description": ""
        },
        {
          "value": "lastCalendarMonth",
          "name": "Last Complete Calendar Month",
          "description": ""
        },
        {
          "value": "custom",
          "name": "Custom",
          "description": ""
        }
      ]
    },
    "startDate": {
      "type": "dateTime",
      "displayName": "Start",
      "name": "startDate"
    },
    "endDate": {
      "type": "dateTime",
      "displayName": "End",
      "name": "endDate"
    },
    "metricsGA4": {
      "type": "fixedCollection",
      "displayName": "Metrics",
      "name": "metricsGA4",
      "typeOptions": {
        "multipleValues": true
      },
      "subProperties": [
        {
          "name": "metricValues",
          "displayName": "Values",
          "values": [
            {
              "displayName": "Expression",
              "name": "expression",
              "type": "string",
              "description": "A mathematical expression for derived metrics. For example, the metric Event count per user is eventCount/totalUsers.",
              "placeholder": "e.g. eventCount/totalUsers",
              "default": "",
              "displayOptions": {
                "show": {
                  "listName": [
                    "custom"
                  ]
                }
              }
            },
            {
              "displayName": "Invisible",
              "name": "invisible",
              "type": "boolean",
              "description": "Whether a metric is invisible in the report response. If a metric is invisible, the metric will not produce a column in the response, but can be used in metricFilter, orderBys, or a metric expression.",
              "default": false,
              "displayOptions": {
                "show": {
                  "listName": [
                    "custom"
                  ]
                }
              }
            }
          ]
        }
      ]
    },
    "dimensionsGA4": {
      "type": "fixedCollection",
      "displayName": "Dimensions to split by",
      "name": "dimensionsGA4",
      "typeOptions": {
        "multipleValues": true
      },
      "subProperties": [
        {
          "name": "dimensionValues",
          "displayName": "Values",
          "values": []
        }
      ]
    },
    "returnAll": {
      "type": "boolean",
      "displayName": "Return All",
      "name": "returnAll"
    },
    "limit": {
      "type": "number",
      "displayName": "Limit",
      "name": "limit",
      "typeOptions": {
        "minValue": 1,
        "maxValue": 500
      }
    },
    "simple": {
      "type": "boolean",
      "displayName": "Simplify Output",
      "name": "simple"
    },
    "additionalFields": {
      "type": "collection",
      "displayName": "Additional Fields",
      "name": "additionalFields",
      "subProperties": [
        {
          "displayName": "Activity Types",
          "name": "activityTypes",
          "type": "multiOptions",
          "description": "Type of activites requested",
          "value": "ECOMMERCE",
          "default": [],
          "options": [
            {
              "name": "Ecommerce",
              "value": "ECOMMERCE",
              "displayName": "Ecommerce"
            },
            {
              "name": "Event",
              "value": "EVENT",
              "displayName": "Event"
            },
            {
              "name": "Goal",
              "value": "GOAL",
              "displayName": "Goal"
            },
            {
              "name": "Pageview",
              "value": "PAGEVIEW",
              "displayName": "Pageview"
            },
            {
              "name": "Screenview",
              "value": "SCREENVIEW",
              "displayName": "Screenview"
            }
          ]
        }
      ]
    },
    "listName": {
      "type": "options",
      "displayName": "Metric",
      "name": "listName",
      "possibleValues": [
        {
          "value": "active1DayUsers",
          "name": "1 Day Active Users",
          "description": ""
        },
        {
          "value": "active28DayUsers",
          "name": "28 Day Active Users",
          "description": ""
        },
        {
          "value": "active7DayUsers",
          "name": "7 Day Active Users",
          "description": ""
        },
        {
          "value": "checkouts",
          "name": "Checkouts",
          "description": ""
        },
        {
          "value": "eventCount",
          "name": "Events",
          "description": ""
        },
        {
          "value": "screenPageViews",
          "name": "Page Views",
          "description": ""
        },
        {
          "value": "userEngagementDuration",
          "name": "Session Duration",
          "description": ""
        },
        {
          "value": "sessions",
          "name": "Sessions",
          "description": ""
        },
        {
          "value": "sessionsPerUser",
          "name": "Sessions per User",
          "description": ""
        },
        {
          "value": "totalUsers",
          "name": "Total Users",
          "description": ""
        },
        {
          "value": "other",
          "name": "Other metrics\u2026",
          "description": ""
        },
        {
          "value": "custom",
          "name": "Custom metric\u2026",
          "description": ""
        }
      ]
    },
    "name": {
      "type": "string",
      "displayName": "Name",
      "name": "name"
    },
    "dimensionFiltersUI": {
      "type": "fixedCollection",
      "displayName": "Dimensions Filters",
      "name": "dimensionFiltersUI",
      "subProperties": [
        {
          "name": "filterExpressions",
          "displayName": "Filter Expressions",
          "values": [
            {
              "displayName": "Filter Expression Type",
              "name": "filterExpressionType",
              "type": "options",
              "value": "andGroup",
              "default": "andGroup",
              "options": [
                {
                  "name": "And Group",
                  "value": "andGroup",
                  "displayName": "And Group"
                },
                {
                  "name": "Or Group",
                  "value": "orGroup",
                  "displayName": "Or Group"
                }
              ]
            }
          ]
        }
      ]
    },
    "expression": {
      "type": "fixedCollection",
      "displayName": "Expression",
      "name": "expression",
      "typeOptions": {
        "multipleValues": true
      },
      "subProperties": [
        {
          "name": "stringFilter",
          "displayName": "String Filter",
          "values": [
            {
              "displayName": "Value",
              "name": "value",
              "type": "string",
              "default": ""
            },
            {
              "displayName": "Case Sensitive",
              "name": "caseSensitive",
              "type": "boolean",
              "default": true
            },
            {
              "displayName": "Match Type",
              "name": "matchType",
              "type": "options",
              "value": "BEGINS_WITH",
              "default": "EXACT",
              "options": [
                {
                  "name": "Begins With",
                  "value": "BEGINS_WITH",
                  "displayName": "Begins With"
                },
                {
                  "name": "Contains Value",
                  "value": "CONTAINS",
                  "displayName": "Contains Value"
                },
                {
                  "name": "Ends With",
                  "value": "ENDS_WITH",
                  "displayName": "Ends With"
                },
                {
                  "name": "Exact Match",
                  "value": "EXACT",
                  "displayName": "Exact Match"
                },
                {
                  "name": "Full Match for the Regular Expression",
                  "value": "FULL_REGEXP",
                  "displayName": "Full Match For The Regular Expression"
                },
                {
                  "name": "Partial Match for the Regular Expression",
                  "value": "PARTIAL_REGEXP",
                  "displayName": "Partial Match For The Regular Expression"
                }
              ]
            }
          ]
        },
        {
          "name": "inListFilter",
          "displayName": "In List Filter",
          "values": [
            {
              "displayName": "Values",
              "name": "values",
              "type": "string",
              "hint": "Comma separated list of values. Must be non-empty.",
              "default": ""
            },
            {
              "displayName": "Case Sensitive",
              "name": "caseSensitive",
              "type": "boolean",
              "default": true
            }
          ]
        },
        {
          "name": "numericFilter",
          "displayName": "Numeric Filter",
          "values": [
            {
              "displayName": "Value Type",
              "name": "valueType",
              "type": "options",
              "value": "doubleValue",
              "default": "doubleValue",
              "options": [
                {
                  "name": "Double Value",
                  "value": "doubleValue",
                  "displayName": "Double Value"
                },
                {
                  "name": "Integer Value",
                  "value": "int64Value",
                  "displayName": "Integer Value"
                }
              ]
            },
            {
              "displayName": "Value",
              "name": "value",
              "type": "string",
              "default": ""
            },
            {
              "displayName": "Operation",
              "name": "operation",
              "type": "options",
              "value": "EQUAL",
              "default": "EQUAL",
              "noDataExpression": true,
              "options": [
                {
                  "name": "Equal",
                  "value": "EQUAL",
                  "displayName": "Equal"
                },
                {
                  "name": "Greater Than",
                  "value": "GREATER_THAN",
                  "displayName": "Greater Than"
                },
                {
                  "name": "Greater than or Equal",
                  "value": "GREATER_THAN_OR_EQUAL",
                  "displayName": "Greater Than Or Equal"
                },
                {
                  "name": "Less Than",
                  "value": "LESS_THAN",
                  "displayName": "Less Than"
                },
                {
                  "name": "Less than or Equal",
                  "value": "LESS_THAN_OR_EQUAL",
                  "displayName": "Less Than Or Equal"
                }
              ]
            }
          ]
        }
      ]
    },
    "metricsFiltersUI": {
      "type": "fixedCollection",
      "displayName": "Metrics Filters",
      "name": "metricsFiltersUI",
      "subProperties": [
        {
          "name": "filterExpressions",
          "displayName": "Filter Expressions",
          "values": [
            {
              "displayName": "Filter Expression Type",
              "name": "filterExpressionType",
              "type": "options",
              "value": "andGroup",
              "default": "andGroup",
              "options": [
                {
                  "name": "And Group",
                  "value": "andGroup",
                  "displayName": "And Group"
                },
                {
                  "name": "Or Group",
                  "value": "orGroup",
                  "displayName": "Or Group"
                }
              ]
            }
          ]
        }
      ]
    },
    "viewId": {
      "type": "options",
      "displayName": "View Name or ID",
      "name": "viewId",
      "typeOptions": {
        "loadOptionsMethod": "getViews"
      },
      "possibleValues": []
    },
    "metricsUA": {
      "type": "fixedCollection",
      "displayName": "Metrics",
      "name": "metricsUA",
      "typeOptions": {
        "multipleValues": true
      },
      "subProperties": [
        {
          "name": "metricValues",
          "displayName": "Metric",
          "values": [
            {
              "displayName": "Metric",
              "name": "listName",
              "type": "options",
              "value": "ga:productCheckouts",
              "default": "ga:users",
              "options": [
                {
                  "name": "Checkouts",
                  "value": "ga:productCheckouts",
                  "displayName": "Checkouts"
                },
                {
                  "name": "Events",
                  "value": "ga:totalEvents",
                  "displayName": "Events"
                },
                {
                  "name": "Page Views",
                  "value": "ga:pageviews",
                  "displayName": "Page Views"
                },
                {
                  "name": "Session Duration",
                  "value": "ga:sessionDuration",
                  "displayName": "Session Duration"
                },
                {
                  "name": "Sessions",
                  "value": "ga:sessions",
                  "displayName": "Sessions"
                },
                {
                  "name": "Sessions per User",
                  "value": "ga:sessionsPerUser",
                  "displayName": "Sessions Per User"
                },
                {
                  "name": "Total Users",
                  "value": "ga:users",
                  "displayName": "Total Users"
                },
                {
                  "name": "Other metrics\u2026",
                  "value": "other",
                  "displayName": "Other Metrics\u2026"
                },
                {
                  "name": "Custom metric\u2026",
                  "value": "custom",
                  "displayName": "Custom Metric\u2026"
                }
              ]
            },
            {
              "displayName": "Name or ID",
              "name": "name",
              "type": "options",
              "description": "The name of the metric. Choose from the list, or specify an ID using an <a href=\"https://docs.n8n.io/code/expressions/\">expression</a>.",
              "hint": "If expression is specified, name can be any string that you would like",
              "default": "ga:users",
              "typeOptions": {
                "loadOptionsMethod": "getMetrics"
              },
              "displayOptions": {
                "show": {
                  "listName": [
                    "other"
                  ]
                }
              }
            },
            {
              "displayName": "Name",
              "name": "name",
              "type": "string",
              "default": "custom_metric",
              "displayOptions": {
                "show": {
                  "listName": [
                    "custom"
                  ]
                }
              }
            },
            {
              "displayName": "Expression",
              "name": "expression",
              "type": "string",
              "description": "Learn more about Google Analytics <a href=\"https://developers.google.com/analytics/devguides/reporting/core/v4/rest/v4/reports/batchGet#Metric\">metric expressions</a>",
              "placeholder": "e.g. ga:totalRefunds/ga:users",
              "default": "",
              "displayOptions": {
                "show": {
                  "listName": [
                    "custom"
                  ]
                }
              }
            },
            {
              "displayName": "Formatting Type",
              "name": "formattingType",
              "type": "options",
              "description": "Specifies how the metric expression should be formatted",
              "value": "CURRENCY",
              "default": "INTEGER",
              "options": [
                {
                  "name": "Currency",
                  "value": "CURRENCY",
                  "displayName": "Currency"
                },
                {
                  "name": "Float",
                  "value": "FLOAT",
                  "displayName": "Float"
                },
                {
                  "name": "Integer",
                  "value": "INTEGER",
                  "displayName": "Integer"
                },
                {
                  "name": "Percent",
                  "value": "PERCENT",
                  "displayName": "Percent"
                },
                {
                  "name": "Time",
                  "value": "TIME",
                  "displayName": "Time"
                }
              ],
              "displayOptions": {
                "show": {
                  "listName": [
                    "custom"
                  ]
                }
              }
            }
          ]
        }
      ]
    },
    "dimensionsUA": {
      "type": "fixedCollection",
      "displayName": "Dimensions to split by",
      "name": "dimensionsUA",
      "typeOptions": {
        "multipleValues": true
      },
      "subProperties": [
        {
          "name": "dimensionValues",
          "displayName": "Values",
          "values": []
        }
      ]
    },
    "userId": {
      "type": "string",
      "displayName": "User ID",
      "name": "userId"
    }
  },
  "api_patterns": {},
  "ui_elements": {
    "notices": [],
    "tooltips": [],
    "placeholders": [
      {
        "field": "propertyId",
        "text": "Select a property..."
      },
      {
        "field": "metricsGA4",
        "text": "Add Metric"
      },
      {
        "field": "dimensionsGA4",
        "text": "Add Dimension"
      },
      {
        "field": "additionalFields",
        "text": "Add Field"
      },
      {
        "field": "dimensionFiltersUI",
        "text": "Add Filter"
      },
      {
        "field": "expression",
        "text": "Add Expression"
      },
      {
        "field": "metricsFiltersUI",
        "text": "Add Filter"
      },
      {
        "field": "viewId",
        "text": "Select a view..."
      },
      {
        "field": "metricsUA",
        "text": "Add metric"
      },
      {
        "field": "dimensionsUA",
        "text": "Add Dimension"
      },
      {
        "field": "additionalFields",
        "text": "Add Field"
      },
      {
        "field": "viewId",
        "text": "123456"
      },
      {
        "field": "userId",
        "text": "123456"
      },
      {
        "field": "additionalFields",
        "text": "Add Field"
      }
    ],
    "hints": [
      {
        "field": "propertyId",
        "text": "If this doesn't work, try changing the 'Property Type' field above"
      },
      {
        "field": "name",
        "text": "If expression is specified, name can be any string that you would like"
      },
      {
        "field": "expression",
        "text": "Comma separated list of values. Must be non-empty."
      },
      {
        "field": "viewId",
        "text": "If this doesn't work, try changing the 'Property Type' field above"
      },
      {
        "field": "metricsUA",
        "text": "If expression is specified, name can be any string that you would like"
      },
      {
        "field": "viewId",
        "text": "If there's nothing here, try changing the 'Property type' field above"
      }
    ]
  },
  "settings": {
    "common": {
      "notes": {
        "name": "Notes",
        "field_id": "notes",
        "type": "string",
        "default": "",
        "description": "Optional note to save with the node"
      },
      "notesInFlow": {
        "name": "Display Note in Flow?",
        "field_id": "notesInFlow",
        "type": "boolean",
        "default": false,
        "description": "If active, the note above will display in the flow as a subtitle"
      }
    },
    "executable": {
      "alwaysOutputData": {
        "name": "Always Output Data",
        "field_id": "alwaysOutputData",
        "type": "boolean",
        "default": false,
        "description": "If active, will output a single, empty item when the output would have been empty. Use to prevent the workflow finishing on this node"
      },
      "executeOnce": {
        "name": "Execute Once",
        "field_id": "executeOnce",
        "type": "boolean",
        "default": false,
        "description": "If active, the node executes only once, with data from the first item it receives"
      },
      "retryOnFail": {
        "name": "Retry On Fail",
        "field_id": "retryOnFail",
        "type": "boolean",
        "default": false,
        "description": "If active, the node tries to execute again when it fails"
      },
      "maxTries": {
        "name": "Max. Tries",
        "field_id": "maxTries",
        "type": "number",
        "default": 3,
        "min": 2,
        "max": 5,
        "description": "Number of times to attempt to execute the node before failing the execution",
        "displayOptions": {
          "show": {
            "retryOnFail": [
              true
            ]
          }
        }
      },
      "waitBetweenTries": {
        "name": "Wait Between Tries (ms)",
        "field_id": "waitBetweenTries",
        "type": "number",
        "default": 1000,
        "min": 0,
        "max": 5000,
        "description": "How long to wait between each attempt (in milliseconds)",
        "displayOptions": {
          "show": {
            "retryOnFail": [
              true
            ]
          }
        }
      },
      "onError": {
        "name": "On Error",
        "field_id": "onError",
        "type": "options",
        "default": "stopWorkflow",
        "description": "Action to take when the node execution fails",
        "options": [
          {
            "name": "Stop Workflow",
            "value": "stopWorkflow",
            "description": "Halt execution and fail workflow"
          },
          {
            "name": "Continue",
            "value": "continueRegularOutput",
            "description": "Pass error message as item in regular output"
          },
          {
            "name": "Continue (using error output)",
            "value": "continueErrorOutput",
            "description": "Pass item to an extra `error` output"
          }
        ]
      }
    },
    "note": "Executable nodes have both common and executable settings"
  }
}