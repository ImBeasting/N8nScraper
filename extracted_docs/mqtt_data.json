{
  "node_info": {
    "icon": "file:mqtt.svg",
    "defaults": {
      "name": "MQTT"
    },
    "inputs": [
      "Main"
    ],
    "outputs": [
      "Main"
    ],
    "group": [
      "input"
    ],
    "authentication": [
      {
        "name": "mqtt",
        "required": true
      }
    ],
    "loadOptionsMethods": [],
    "eventTriggerDescription": "",
    "activationMessage": "",
    "triggerPanel": {},
    "supportsCORS": false,
    "displayName": "MQTT",
    "name": "mqtt",
    "description": "Push messages to MQTT",
    "subtitle": "",
    "version": "1",
    "usableAsTool": true,
    "node_type": "regular"
  },
  "metadata": {
    "node": "n8n-nodes-base.mqtt",
    "nodeVersion": "1.0",
    "codexVersion": "1.0",
    "categories": [
      "Development",
      "Communication"
    ],
    "resources": {
      "credentialDocumentation": [
        {
          "url": "https://docs.n8n.io/integrations/builtin/credentials/mqtt/"
        }
      ],
      "primaryDocumentation": [
        {
          "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.mqtt/"
        }
      ]
    }
  },
  "properties": [
    {
      "displayName": "Topic",
      "name": "topic",
      "type": "string",
      "description": "The topic to publish to",
      "default": "",
      "required": true
    },
    {
      "displayName": "Send Input Data",
      "name": "sendInputData",
      "type": "boolean",
      "description": "Whether to send the data the node receives as JSON",
      "default": true
    },
    {
      "displayName": "Message",
      "name": "message",
      "type": "string",
      "description": "The message to publish",
      "default": "",
      "required": true,
      "displayOptions": {
        "show": {
          "sendInputData": [
            false
          ]
        }
      }
    },
    {
      "displayName": "Options",
      "name": "options",
      "type": "collection",
      "description": "QoS subscription level",
      "placeholder": "Add option",
      "default": {},
      "options": [
        {
          "displayName": "QoS",
          "name": "qos",
          "type": "options",
          "description": "QoS subscription level",
          "default": 0,
          "options": [
            {
              "name": "Received at Most Once",
              "displayName": "Received At Most Once"
            },
            {
              "name": "Received at Least Once",
              "displayName": "Received At Least Once"
            },
            {
              "name": "Exactly Once",
              "displayName": "Exactly Once"
            }
          ]
        },
        {
          "displayName": "Retain",
          "name": "retain",
          "type": "boolean",
          "description": "Normally if a publisher publishes a message to a topic, and no one is subscribed to that topic the message is simply discarded by the broker. However the publisher can tell the broker to keep the last message on that topic by setting the retain flag to true.",
          "default": false
        }
      ]
    }
  ],
  "operations": [],
  "operations_by_resource": {},
  "credentials": [
    {
      "name": "mqtt",
      "required": true
    }
  ],
  "workflow_examples": [],
  "expressions": [],
  "validation_rules": {
    "topic": {
      "required": true
    },
    "message": {
      "required": true,
      "displayOptions": {
        "show": {
          "sendInputData": [
            false
          ]
        }
      }
    }
  },
  "type_info": {
    "topic": {
      "type": "string",
      "displayName": "Topic",
      "name": "topic"
    },
    "sendInputData": {
      "type": "boolean",
      "displayName": "Send Input Data",
      "name": "sendInputData"
    },
    "message": {
      "type": "string",
      "displayName": "Message",
      "name": "message"
    },
    "options": {
      "type": "collection",
      "displayName": "Options",
      "name": "options",
      "subProperties": [
        {
          "displayName": "QoS",
          "name": "qos",
          "type": "options",
          "description": "QoS subscription level",
          "default": 0,
          "options": [
            {
              "name": "Received at Most Once",
              "displayName": "Received At Most Once"
            },
            {
              "name": "Received at Least Once",
              "displayName": "Received At Least Once"
            },
            {
              "name": "Exactly Once",
              "displayName": "Exactly Once"
            }
          ]
        },
        {
          "displayName": "Retain",
          "name": "retain",
          "type": "boolean",
          "description": "Normally if a publisher publishes a message to a topic, and no one is subscribed to that topic the message is simply discarded by the broker. However the publisher can tell the broker to keep the last message on that topic by setting the retain flag to true.",
          "default": false
        }
      ]
    }
  },
  "api_patterns": {
    "http_methods": [],
    "endpoints": [],
    "headers": [],
    "query_params": []
  },
  "ui_elements": {
    "notices": [],
    "tooltips": [],
    "placeholders": [
      {
        "field": "options",
        "text": "Add option"
      }
    ],
    "hints": []
  },
  "settings": {
    "common": {
      "notes": {
        "name": "Notes",
        "field_id": "notes",
        "type": "string",
        "default": "",
        "description": "Optional note to save with the node"
      },
      "notesInFlow": {
        "name": "Display Note in Flow?",
        "field_id": "notesInFlow",
        "type": "boolean",
        "default": false,
        "description": "If active, the note above will display in the flow as a subtitle"
      }
    },
    "executable": {
      "alwaysOutputData": {
        "name": "Always Output Data",
        "field_id": "alwaysOutputData",
        "type": "boolean",
        "default": false,
        "description": "If active, will output a single, empty item when the output would have been empty. Use to prevent the workflow finishing on this node"
      },
      "executeOnce": {
        "name": "Execute Once",
        "field_id": "executeOnce",
        "type": "boolean",
        "default": false,
        "description": "If active, the node executes only once, with data from the first item it receives"
      },
      "retryOnFail": {
        "name": "Retry On Fail",
        "field_id": "retryOnFail",
        "type": "boolean",
        "default": false,
        "description": "If active, the node tries to execute again when it fails"
      },
      "maxTries": {
        "name": "Max. Tries",
        "field_id": "maxTries",
        "type": "number",
        "default": 3,
        "min": 2,
        "max": 5,
        "description": "Number of times to attempt to execute the node before failing the execution",
        "displayOptions": {
          "show": {
            "retryOnFail": [
              true
            ]
          }
        }
      },
      "waitBetweenTries": {
        "name": "Wait Between Tries (ms)",
        "field_id": "waitBetweenTries",
        "type": "number",
        "default": 1000,
        "min": 0,
        "max": 5000,
        "description": "How long to wait between each attempt (in milliseconds)",
        "displayOptions": {
          "show": {
            "retryOnFail": [
              true
            ]
          }
        }
      },
      "onError": {
        "name": "On Error",
        "field_id": "onError",
        "type": "options",
        "default": "stopWorkflow",
        "description": "Action to take when the node execution fails",
        "options": [
          {
            "name": "Stop Workflow",
            "value": "stopWorkflow",
            "description": "Halt execution and fail workflow"
          },
          {
            "name": "Continue",
            "value": "continueRegularOutput",
            "description": "Pass error message as item in regular output"
          },
          {
            "name": "Continue (using error output)",
            "value": "continueErrorOutput",
            "description": "Pass item to an extra `error` output"
          }
        ]
      }
    },
    "note": "Executable nodes have both common and executable settings"
  }
}