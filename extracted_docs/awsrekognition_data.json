{
  "node_info": {
    "icon": "file:rekognition.svg",
    "defaults": {
      "name": "AWS Rekognition"
    },
    "inputs": [
      "Main"
    ],
    "outputs": [
      "Main"
    ],
    "group": [
      "output"
    ],
    "authentication": [],
    "loadOptionsMethods": [],
    "eventTriggerDescription": "",
    "activationMessage": "",
    "triggerPanel": {},
    "supportsCORS": false,
    "displayName": "AWS Rekognition",
    "name": "awsRekognition",
    "description": "Sends data to AWS Rekognition",
    "subtitle": "={{$parameter[\"operation\"] + \": \" + $parameter[\"resource\"]}}",
    "version": "1",
    "node_type": "regular"
  },
  "metadata": {
    "node": "n8n-nodes-base.awsRekognition",
    "nodeVersion": "1.0",
    "codexVersion": "1.0",
    "categories": [
      "Development"
    ],
    "resources": {
      "credentialDocumentation": [
        {
          "url": "https://docs.n8n.io/integrations/builtin/credentials/aws/"
        }
      ],
      "primaryDocumentation": [
        {
          "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.awsrekognition/"
        }
      ],
      "generic": [
        {
          "label": "7 no-code workflow automations for Amazon Web Services",
          "url": "https://n8n.io/blog/aws-workflow-automation/"
        }
      ]
    }
  },
  "properties": [
    {
      "displayName": "Resource",
      "name": "resource",
      "type": "options",
      "value": "image",
      "default": "image",
      "noDataExpression": true,
      "options": [
        {
          "name": "Image",
          "value": "image",
          "displayName": "Image"
        }
      ]
    },
    {
      "displayName": "Operation",
      "name": "operation",
      "type": "options",
      "value": "analyze",
      "default": "analyze",
      "noDataExpression": true,
      "options": [
        {
          "name": "Analyze",
          "value": "analyze",
          "displayName": "Analyze"
        }
      ]
    },
    {
      "displayName": "Type",
      "name": "type",
      "type": "options",
      "value": "detectFaces",
      "default": "detectFaces",
      "options": [
        {
          "name": "Detect Faces",
          "value": "detectFaces",
          "displayName": "Detect Faces"
        },
        {
          "name": "Detect Labels",
          "value": "detectLabels",
          "displayName": "Detect Labels"
        },
        {
          "name": "Detect Moderation Labels",
          "value": "detectModerationLabels",
          "displayName": "Detect Moderation Labels"
        },
        {
          "name": "Detect Text",
          "value": "detectText",
          "displayName": "Detect Text"
        },
        {
          "name": "Recognize Celebrity",
          "value": "recognizeCelebrity",
          "displayName": "Recognize Celebrity"
        }
      ],
      "displayOptions": {
        "show": {
          "operation": [
            "analyze"
          ],
          "resource": [
            "image"
          ]
        }
      },
      "_operation": "analyze"
    },
    {
      "displayName": "Binary File",
      "name": "binaryData",
      "type": "boolean",
      "description": "Whether the image to analyze should be taken from binary field",
      "default": false,
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "analyze"
          ],
          "resource": [
            "image"
          ]
        }
      },
      "_operation": "analyze"
    },
    {
      "displayName": "Input Binary Field",
      "name": "binaryPropertyName",
      "type": "string",
      "hint": "The name of the input binary field containing the file to be written",
      "default": "data",
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "analyze"
          ],
          "resource": [
            "image"
          ],
          "binaryData": [
            true
          ]
        }
      },
      "_operation": "analyze"
    },
    {
      "displayName": "Bucket",
      "name": "bucket",
      "type": "string",
      "description": "Name of the S3 bucket",
      "default": "",
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "analyze"
          ],
          "resource": [
            "image"
          ],
          "binaryData": [
            false
          ]
        }
      },
      "_operation": "analyze"
    },
    {
      "displayName": "Name",
      "name": "name",
      "type": "string",
      "description": "S3 object key name",
      "default": "",
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "analyze"
          ],
          "resource": [
            "image"
          ],
          "binaryData": [
            false
          ]
        }
      },
      "_operation": "analyze"
    },
    {
      "displayName": "Additional Fields",
      "name": "additionalFields",
      "type": "collection",
      "description": "Height of the bounding box as a ratio of the overall image height",
      "placeholder": "Add Field",
      "value": "all",
      "default": {},
      "options": [
        {
          "displayName": "Regions of Interest",
          "name": "regionsOfInterestUi",
          "type": "fixedCollection",
          "description": "Height of the bounding box as a ratio of the overall image height",
          "placeholder": "Add Region of Interest",
          "default": {},
          "options": [
            {
              "name": "regionsOfInterestValues",
              "displayName": "Region of Interest",
              "values": [
                {
                  "displayName": "Height",
                  "name": "height",
                  "type": "number",
                  "description": "Height of the bounding box as a ratio of the overall image height",
                  "default": 0
                },
                {
                  "displayName": "Left",
                  "name": "left",
                  "type": "number",
                  "description": "Left coordinate of the bounding box as a ratio of overall image width",
                  "default": 0
                },
                {
                  "displayName": "Top",
                  "name": "top",
                  "type": "number",
                  "description": "Top coordinate of the bounding box as a ratio of overall image height",
                  "default": 0
                },
                {
                  "displayName": "Width",
                  "name": "Width",
                  "type": "number",
                  "description": "Width of the bounding box as a ratio of the overall image width",
                  "default": 0
                }
              ]
            }
          ],
          "typeOptions": {
            "multipleValues": true
          },
          "displayOptions": {
            "show": {}
          }
        },
        {
          "displayName": "Version",
          "name": "version",
          "type": "string",
          "description": "If the bucket is versioning enabled, you can specify the object version",
          "default": "",
          "displayOptions": {
            "show": {}
          }
        },
        {
          "displayName": "Word Filter",
          "name": "wordFilterUi",
          "type": "collection",
          "description": "Sets the minimum height of the word bounding box. Words with bounding box heights lesser than this value will be excluded from the result. Value is relative to the video frame height.",
          "placeholder": "Add Word Filter",
          "default": {},
          "options": [
            {
              "displayName": "Min Bounding Box Height",
              "name": "MinBoundingBoxHeight",
              "type": "number",
              "description": "Sets the minimum height of the word bounding box. Words with bounding box heights lesser than this value will be excluded from the result. Value is relative to the video frame height.",
              "default": 0
            },
            {
              "displayName": "Min Bounding Box Width",
              "name": "MinBoundingBoxWidth",
              "type": "number",
              "description": "Sets the minimum width of the word bounding box. Words with bounding boxes widths lesser than this value will be excluded from the result. Value is relative to the video frame width.",
              "default": 0
            },
            {
              "displayName": "Min Confidence",
              "name": "MinConfidence",
              "type": "number",
              "description": "Sets the confidence of word detection. Words with detection confidence below this will be excluded from the result. Values should be between 50 and 100 as Text in Video will not return any result below 50.",
              "default": 0
            }
          ],
          "typeOptions": {
            "multipleValues": false
          },
          "displayOptions": {
            "show": {}
          }
        },
        {
          "displayName": "Max Labels",
          "name": "maxLabels",
          "type": "number",
          "description": "Maximum number of labels you want the service to return in the response. The service returns the specified number of highest confidence labels.",
          "default": 0,
          "typeOptions": {
            "minValue": 0
          },
          "displayOptions": {
            "show": {}
          }
        },
        {
          "displayName": "Min Confidence",
          "name": "minConfidence",
          "type": "number",
          "description": "Specifies the minimum confidence level for the labels to return. Amazon Rekognition doesn't return any labels with a confidence level lower than this specified value.",
          "default": 0,
          "typeOptions": {
            "minValue": 0,
            "maxValue": 100
          },
          "displayOptions": {
            "show": {}
          }
        },
        {
          "displayName": "Attributes",
          "name": "attributes",
          "type": "multiOptions",
          "description": "An array of facial attributes you want to be returned",
          "value": "all",
          "default": [],
          "options": [
            {
              "name": "All",
              "value": "all",
              "displayName": "All"
            },
            {
              "name": "Default",
              "value": "default",
              "displayName": "Default"
            }
          ],
          "displayOptions": {
            "show": {}
          }
        }
      ],
      "typeOptions": {
        "multipleValues": true
      },
      "displayOptions": {
        "show": {
          "operation": [
            "analyze"
          ],
          "resource": [
            "image"
          ]
        }
      },
      "_operation": "analyze"
    },
    {
      "displayName": "Authentication",
      "name": "authentication",
      "type": "options",
      "value": "iam",
      "default": "iam",
      "options": [
        {
          "name": "AWS (IAM)",
          "value": "iam",
          "displayName": "Aws (iam)"
        },
        {
          "name": "AWS (Assume Role)",
          "value": "assumeRole",
          "displayName": "Aws (assume Role)"
        }
      ]
    },
    {
      "name": "aws",
      "displayName": "Aws",
      "required": true,
      "displayOptions": {
        "show": {
          "authentication": [
            "iam"
          ]
        }
      },
      "_source": "utils_awsNodeCredentials"
    },
    {
      "name": "awsAssumeRole",
      "displayName": "Aws Assume Role",
      "required": true,
      "displayOptions": {
        "show": {
          "authentication": [
            "assumeRole"
          ]
        }
      },
      "_source": "utils_awsNodeCredentials"
    }
  ],
  "operations": [
    {
      "name": "Analyze",
      "value": "analyze",
      "displayName": "Analyze"
    }
  ],
  "operations_by_resource": {},
  "credentials": [],
  "workflow_examples": [],
  "expressions": [
    "={{$parameter[\"operation\"] + \": \" + $parameter[\"resource\"]}}"
  ],
  "validation_rules": {
    "type": {
      "displayOptions": {
        "show": {
          "operation": [
            "analyze"
          ],
          "resource": [
            "image"
          ]
        }
      }
    },
    "binaryData": {
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "analyze"
          ],
          "resource": [
            "image"
          ]
        }
      }
    },
    "binaryPropertyName": {
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "analyze"
          ],
          "resource": [
            "image"
          ],
          "binaryData": [
            true
          ]
        }
      }
    },
    "bucket": {
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "analyze"
          ],
          "resource": [
            "image"
          ],
          "binaryData": [
            false
          ]
        }
      }
    },
    "name": {
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "analyze"
          ],
          "resource": [
            "image"
          ],
          "binaryData": [
            false
          ]
        }
      }
    },
    "additionalFields": {
      "displayOptions": {
        "show": {
          "operation": [
            "analyze"
          ],
          "resource": [
            "image"
          ]
        }
      }
    },
    "aws": {
      "required": true,
      "displayOptions": {
        "show": {
          "authentication": [
            "iam"
          ]
        }
      }
    },
    "awsAssumeRole": {
      "required": true,
      "displayOptions": {
        "show": {
          "authentication": [
            "assumeRole"
          ]
        }
      }
    }
  },
  "type_info": {
    "resource": {
      "type": "options",
      "displayName": "Resource",
      "name": "resource",
      "possibleValues": [
        {
          "value": "image",
          "name": "Image",
          "description": ""
        }
      ]
    },
    "operation": {
      "type": "options",
      "displayName": "Operation",
      "name": "operation",
      "possibleValues": [
        {
          "value": "analyze",
          "name": "Analyze",
          "description": ""
        }
      ]
    },
    "type": {
      "type": "options",
      "displayName": "Type",
      "name": "type",
      "possibleValues": [
        {
          "value": "detectFaces",
          "name": "Detect Faces",
          "description": ""
        },
        {
          "value": "detectLabels",
          "name": "Detect Labels",
          "description": ""
        },
        {
          "value": "detectModerationLabels",
          "name": "Detect Moderation Labels",
          "description": ""
        },
        {
          "value": "detectText",
          "name": "Detect Text",
          "description": ""
        },
        {
          "value": "recognizeCelebrity",
          "name": "Recognize Celebrity",
          "description": ""
        }
      ]
    },
    "binaryData": {
      "type": "boolean",
      "displayName": "Binary File",
      "name": "binaryData"
    },
    "binaryPropertyName": {
      "type": "string",
      "displayName": "Input Binary Field",
      "name": "binaryPropertyName"
    },
    "bucket": {
      "type": "string",
      "displayName": "Bucket",
      "name": "bucket"
    },
    "name": {
      "type": "string",
      "displayName": "Name",
      "name": "name"
    },
    "additionalFields": {
      "type": "collection",
      "displayName": "Additional Fields",
      "name": "additionalFields",
      "typeOptions": {
        "multipleValues": true
      },
      "subProperties": [
        {
          "displayName": "Regions of Interest",
          "name": "regionsOfInterestUi",
          "type": "fixedCollection",
          "description": "Height of the bounding box as a ratio of the overall image height",
          "placeholder": "Add Region of Interest",
          "default": {},
          "options": [
            {
              "name": "regionsOfInterestValues",
              "displayName": "Region of Interest",
              "values": [
                {
                  "displayName": "Height",
                  "name": "height",
                  "type": "number",
                  "description": "Height of the bounding box as a ratio of the overall image height",
                  "default": 0
                },
                {
                  "displayName": "Left",
                  "name": "left",
                  "type": "number",
                  "description": "Left coordinate of the bounding box as a ratio of overall image width",
                  "default": 0
                },
                {
                  "displayName": "Top",
                  "name": "top",
                  "type": "number",
                  "description": "Top coordinate of the bounding box as a ratio of overall image height",
                  "default": 0
                },
                {
                  "displayName": "Width",
                  "name": "Width",
                  "type": "number",
                  "description": "Width of the bounding box as a ratio of the overall image width",
                  "default": 0
                }
              ]
            }
          ],
          "typeOptions": {
            "multipleValues": true
          },
          "displayOptions": {
            "show": {}
          }
        },
        {
          "displayName": "Version",
          "name": "version",
          "type": "string",
          "description": "If the bucket is versioning enabled, you can specify the object version",
          "default": "",
          "displayOptions": {
            "show": {}
          }
        },
        {
          "displayName": "Word Filter",
          "name": "wordFilterUi",
          "type": "collection",
          "description": "Sets the minimum height of the word bounding box. Words with bounding box heights lesser than this value will be excluded from the result. Value is relative to the video frame height.",
          "placeholder": "Add Word Filter",
          "default": {},
          "options": [
            {
              "displayName": "Min Bounding Box Height",
              "name": "MinBoundingBoxHeight",
              "type": "number",
              "description": "Sets the minimum height of the word bounding box. Words with bounding box heights lesser than this value will be excluded from the result. Value is relative to the video frame height.",
              "default": 0
            },
            {
              "displayName": "Min Bounding Box Width",
              "name": "MinBoundingBoxWidth",
              "type": "number",
              "description": "Sets the minimum width of the word bounding box. Words with bounding boxes widths lesser than this value will be excluded from the result. Value is relative to the video frame width.",
              "default": 0
            },
            {
              "displayName": "Min Confidence",
              "name": "MinConfidence",
              "type": "number",
              "description": "Sets the confidence of word detection. Words with detection confidence below this will be excluded from the result. Values should be between 50 and 100 as Text in Video will not return any result below 50.",
              "default": 0
            }
          ],
          "typeOptions": {
            "multipleValues": false
          },
          "displayOptions": {
            "show": {}
          }
        },
        {
          "displayName": "Max Labels",
          "name": "maxLabels",
          "type": "number",
          "description": "Maximum number of labels you want the service to return in the response. The service returns the specified number of highest confidence labels.",
          "default": 0,
          "typeOptions": {
            "minValue": 0
          },
          "displayOptions": {
            "show": {}
          }
        },
        {
          "displayName": "Min Confidence",
          "name": "minConfidence",
          "type": "number",
          "description": "Specifies the minimum confidence level for the labels to return. Amazon Rekognition doesn't return any labels with a confidence level lower than this specified value.",
          "default": 0,
          "typeOptions": {
            "minValue": 0,
            "maxValue": 100
          },
          "displayOptions": {
            "show": {}
          }
        },
        {
          "displayName": "Attributes",
          "name": "attributes",
          "type": "multiOptions",
          "description": "An array of facial attributes you want to be returned",
          "value": "all",
          "default": [],
          "options": [
            {
              "name": "All",
              "value": "all",
              "displayName": "All"
            },
            {
              "name": "Default",
              "value": "default",
              "displayName": "Default"
            }
          ],
          "displayOptions": {
            "show": {}
          }
        }
      ]
    },
    "authentication": {
      "type": "options",
      "displayName": "Authentication",
      "name": "authentication",
      "possibleValues": [
        {
          "value": "iam",
          "name": "AWS (IAM)",
          "description": ""
        },
        {
          "value": "assumeRole",
          "name": "AWS (Assume Role)",
          "description": ""
        }
      ]
    },
    "aws": {
      "type": "unknown",
      "displayName": "Aws",
      "name": "aws"
    },
    "awsAssumeRole": {
      "type": "unknown",
      "displayName": "Aws Assume Role",
      "name": "awsAssumeRole"
    }
  },
  "api_patterns": {
    "http_methods": [],
    "endpoints": [],
    "headers": [],
    "query_params": []
  },
  "ui_elements": {
    "notices": [],
    "tooltips": [],
    "placeholders": [
      {
        "field": "additionalFields",
        "text": "Add Field"
      }
    ],
    "hints": [
      {
        "field": "binaryPropertyName",
        "text": "The name of the input binary field containing the file to be written"
      }
    ]
  },
  "settings": {
    "common": {
      "notes": {
        "name": "Notes",
        "field_id": "notes",
        "type": "string",
        "default": "",
        "description": "Optional note to save with the node"
      },
      "notesInFlow": {
        "name": "Display Note in Flow?",
        "field_id": "notesInFlow",
        "type": "boolean",
        "default": false,
        "description": "If active, the note above will display in the flow as a subtitle"
      }
    },
    "executable": {
      "alwaysOutputData": {
        "name": "Always Output Data",
        "field_id": "alwaysOutputData",
        "type": "boolean",
        "default": false,
        "description": "If active, will output a single, empty item when the output would have been empty. Use to prevent the workflow finishing on this node"
      },
      "executeOnce": {
        "name": "Execute Once",
        "field_id": "executeOnce",
        "type": "boolean",
        "default": false,
        "description": "If active, the node executes only once, with data from the first item it receives"
      },
      "retryOnFail": {
        "name": "Retry On Fail",
        "field_id": "retryOnFail",
        "type": "boolean",
        "default": false,
        "description": "If active, the node tries to execute again when it fails"
      },
      "maxTries": {
        "name": "Max. Tries",
        "field_id": "maxTries",
        "type": "number",
        "default": 3,
        "min": 2,
        "max": 5,
        "description": "Number of times to attempt to execute the node before failing the execution",
        "displayOptions": {
          "show": {
            "retryOnFail": [
              true
            ]
          }
        }
      },
      "waitBetweenTries": {
        "name": "Wait Between Tries (ms)",
        "field_id": "waitBetweenTries",
        "type": "number",
        "default": 1000,
        "min": 0,
        "max": 5000,
        "description": "How long to wait between each attempt (in milliseconds)",
        "displayOptions": {
          "show": {
            "retryOnFail": [
              true
            ]
          }
        }
      },
      "onError": {
        "name": "On Error",
        "field_id": "onError",
        "type": "options",
        "default": "stopWorkflow",
        "description": "Action to take when the node execution fails",
        "options": [
          {
            "name": "Stop Workflow",
            "value": "stopWorkflow",
            "description": "Halt execution and fail workflow"
          },
          {
            "name": "Continue",
            "value": "continueRegularOutput",
            "description": "Pass error message as item in regular output"
          },
          {
            "name": "Continue (using error output)",
            "value": "continueErrorOutput",
            "description": "Pass item to an extra `error` output"
          }
        ]
      }
    },
    "note": "Executable nodes have both common and executable settings"
  }
}