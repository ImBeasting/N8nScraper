{
  "node_info": {
    "icon": "file:phantombuster.png",
    "defaults": {
      "name": "Phantombuster"
    },
    "inputs": [
      "Main"
    ],
    "outputs": [
      "Main"
    ],
    "group": [
      "input"
    ],
    "authentication": [
      {
        "name": "phantombusterApi",
        "required": true
      }
    ],
    "loadOptionsMethods": [
      "getAgents",
      "for",
      "name",
      "value"
    ],
    "eventTriggerDescription": "",
    "activationMessage": "",
    "triggerPanel": {},
    "supportsCORS": false,
    "displayName": "Phantombuster",
    "name": "phantombuster",
    "description": "Consume Phantombuster API",
    "subtitle": "={{$parameter[\"operation\"] + \": \" + $parameter[\"resource\"]}}",
    "version": "1",
    "usableAsTool": true,
    "node_type": "regular"
  },
  "metadata": {
    "node": "n8n-nodes-base.phantombuster",
    "nodeVersion": "1.0",
    "codexVersion": "1.0",
    "categories": [
      "Sales",
      "Marketing"
    ],
    "resources": {
      "credentialDocumentation": [
        {
          "url": "https://docs.n8n.io/integrations/builtin/credentials/phantombuster/"
        }
      ],
      "primaryDocumentation": [
        {
          "url": "https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.phantombuster/"
        }
      ]
    }
  },
  "properties": [
    {
      "displayName": "Resource",
      "name": "resource",
      "type": "options",
      "value": "agent",
      "default": "agent",
      "noDataExpression": true,
      "options": [
        {
          "name": "Agent",
          "value": "agent",
          "displayName": "Agent"
        }
      ]
    },
    {
      "displayName": "Operation",
      "name": "operation",
      "type": "options",
      "description": "Delete an agent by ID",
      "action": "Delete an agent",
      "value": "delete",
      "default": "launch",
      "noDataExpression": true,
      "options": [
        {
          "name": "Delete",
          "description": "Delete an agent by ID",
          "action": "Delete an agent",
          "value": "delete",
          "displayName": "Delete"
        },
        {
          "name": "Get",
          "description": "Get an agent by ID",
          "action": "Get an agent",
          "value": "get",
          "displayName": "Get"
        },
        {
          "name": "Get Many",
          "description": "Get many agents of the current user's organization",
          "action": "Get many agents",
          "value": "getAll",
          "displayName": "Get Many"
        },
        {
          "name": "Get Output",
          "description": "Get the output of the most recent container of an agent",
          "action": "Get the output of an agent",
          "value": "getOutput",
          "displayName": "Get Output"
        },
        {
          "name": "Launch",
          "description": "Add an agent to the launch queue",
          "action": "Add an agent to the launch queue",
          "value": "launch",
          "displayName": "Launch"
        }
      ],
      "displayOptions": {
        "show": {
          "resource": [
            "agent"
          ]
        }
      },
      "_source": "Agent_agentOperations"
    },
    {
      "displayName": "Agent Name or ID",
      "name": "agentId",
      "type": "options",
      "description": "Choose from the list, or specify an ID using an <a href=\"https://docs.n8n.io/code/expressions/\">expression</a>",
      "default": "",
      "required": true,
      "typeOptions": {
        "loadOptionsMethod": "getAgents"
      },
      "displayOptions": {
        "show": {
          "operation": [
            "delete"
          ],
          "resource": [
            "agent"
          ]
        }
      },
      "_operation": "delete",
      "_source": "Agent_agentFields"
    },
    {
      "displayName": "Agent ID",
      "name": "agentId",
      "type": "string",
      "default": "",
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "get"
          ],
          "resource": [
            "agent"
          ]
        }
      },
      "_operation": "get",
      "_source": "Agent_agentFields"
    },
    {
      "displayName": "Return All",
      "name": "returnAll",
      "type": "boolean",
      "description": "Whether to return all results or only up to a given limit",
      "default": false,
      "displayOptions": {
        "show": {
          "operation": [
            "getAll"
          ],
          "resource": [
            "agent"
          ]
        }
      },
      "_operation": "getAll",
      "_source": "Agent_agentFields"
    },
    {
      "displayName": "Limit",
      "name": "limit",
      "type": "number",
      "description": "Max number of results to return",
      "default": 25,
      "typeOptions": {
        "minValue": 1,
        "maxValue": 50
      },
      "displayOptions": {
        "show": {
          "operation": [
            "getAll"
          ],
          "resource": [
            "agent"
          ],
          "returnAll": [
            false
          ]
        }
      },
      "_operation": "getAll",
      "_source": "Agent_agentFields"
    },
    {
      "displayName": "Agent Name or ID",
      "name": "agentId",
      "type": "options",
      "description": "Choose from the list, or specify an ID using an <a href=\"https://docs.n8n.io/code/expressions/\">expression</a>",
      "default": "",
      "required": true,
      "typeOptions": {
        "loadOptionsMethod": "getAgents"
      },
      "displayOptions": {
        "show": {
          "operation": [
            "getOutput"
          ],
          "resource": [
            "agent"
          ]
        }
      },
      "_operation": "getOutput",
      "_source": "Agent_agentFields"
    },
    {
      "displayName": "Resolve Data",
      "name": "resolveData",
      "type": "boolean",
      "description": "By default the outpout is presented as string. If this option gets activated, it will resolve the data automatically.",
      "default": true,
      "displayOptions": {
        "show": {
          "operation": [
            "getOutput"
          ],
          "resource": [
            "agent"
          ]
        }
      },
      "_operation": "getOutput",
      "_source": "Agent_agentFields"
    },
    {
      "displayName": "Additional Fields",
      "name": "additionalFields",
      "type": "collection",
      "description": "If set, the output will be retrieved from the container after the specified previous container ID",
      "placeholder": "Add Field",
      "value": "finished",
      "default": {},
      "options": [
        {
          "displayName": "Prev Container ID",
          "name": "prevContainerId",
          "type": "string",
          "description": "If set, the output will be retrieved from the container after the specified previous container ID",
          "default": ""
        },
        {
          "displayName": "Prev Status",
          "name": "prevStatus",
          "type": "options",
          "description": "If set, allows to define which status was previously retrieved on user-side",
          "value": "finished",
          "default": "",
          "options": [
            {
              "name": "Finished",
              "value": "finished",
              "displayName": "Finished"
            },
            {
              "name": "Launch Error",
              "value": "lauch error",
              "displayName": "Launch Error"
            },
            {
              "name": "Never Launched",
              "value": "never launched",
              "displayName": "Never Launched"
            },
            {
              "name": "Running",
              "value": "running",
              "displayName": "Running"
            },
            {
              "name": "Starting",
              "value": "starting",
              "displayName": "Starting"
            },
            {
              "name": "Unknown",
              "value": "unknown",
              "displayName": "Unknown"
            }
          ]
        },
        {
          "displayName": "Pre Runtime Event Index",
          "name": "prevRuntimeEventIndex",
          "type": "number",
          "description": "If set, the container's runtime events will be returned in the response starting from the provided previous runtime event index",
          "default": 0
        }
      ],
      "displayOptions": {
        "show": {
          "resource": [
            "agent"
          ],
          "operation": [
            "getOutput"
          ]
        }
      },
      "_operation": "getOutput",
      "_source": "Agent_agentFields"
    },
    {
      "displayName": "Agent Name or ID",
      "name": "agentId",
      "type": "options",
      "description": "Choose from the list, or specify an ID using an <a href=\"https://docs.n8n.io/code/expressions/\">expression</a>",
      "default": "",
      "required": true,
      "typeOptions": {
        "loadOptionsMethod": "getAgents"
      },
      "displayOptions": {
        "show": {
          "operation": [
            "launch"
          ],
          "resource": [
            "agent"
          ]
        }
      },
      "_operation": "launch",
      "_source": "Agent_agentFields"
    },
    {
      "displayName": "Resolve Data",
      "name": "resolveData",
      "type": "boolean",
      "description": "By default the launch just include the container ID. If this option gets activated, it will resolve the data automatically.",
      "default": true,
      "displayOptions": {
        "show": {
          "operation": [
            "launch"
          ],
          "resource": [
            "agent"
          ]
        }
      },
      "_operation": "launch",
      "_source": "Agent_agentFields"
    },
    {
      "displayName": "JSON Parameters",
      "name": "jsonParameters",
      "type": "boolean",
      "default": false,
      "displayOptions": {
        "show": {
          "operation": [
            "launch"
          ],
          "resource": [
            "agent"
          ]
        }
      },
      "_operation": "launch",
      "_source": "Agent_agentFields"
    },
    {
      "displayName": "Additional Fields",
      "name": "additionalFields",
      "type": "collection",
      "description": "Agent argument. Can either be a JSON string or a plain object. The argument can be retrieved with buster.argument in the agent\u2019s script.",
      "placeholder": "Add Field",
      "default": {},
      "options": [
        {
          "displayName": "Arguments (JSON)",
          "name": "argumentsJson",
          "type": "json",
          "description": "Agent argument. Can either be a JSON string or a plain object. The argument can be retrieved with buster.argument in the agent\u2019s script.",
          "default": "",
          "displayOptions": {
            "show": {}
          }
        },
        {
          "displayName": "Arguments",
          "name": "argumentsUi",
          "type": "fixedCollection",
          "description": "Name of the argument key to add",
          "placeholder": "Add Argument",
          "default": {},
          "options": [
            {
              "name": "argumentValues",
              "displayName": "Argument",
              "values": [
                {
                  "displayName": "Key",
                  "name": "key",
                  "type": "string",
                  "description": "Name of the argument key to add",
                  "default": ""
                },
                {
                  "displayName": "Value",
                  "name": "value",
                  "type": "string",
                  "description": "Value to set for the argument key",
                  "default": ""
                }
              ]
            }
          ],
          "typeOptions": {
            "multipleValues": true
          },
          "displayOptions": {
            "show": {}
          }
        },
        {
          "displayName": "Bonus Argument",
          "name": "bonusArgumentUi",
          "type": "fixedCollection",
          "description": "Name of the argument key to add",
          "placeholder": "Add Bonus Argument",
          "default": {},
          "options": [
            {
              "name": "bonusArgumentValue",
              "displayName": "Bonus Argument",
              "values": [
                {
                  "displayName": "Key",
                  "name": "key",
                  "type": "string",
                  "description": "Name of the argument key to add",
                  "default": ""
                },
                {
                  "displayName": "Value",
                  "name": "value",
                  "type": "string",
                  "description": "Value to set for the argument key",
                  "default": ""
                }
              ]
            }
          ],
          "typeOptions": {
            "multipleValues": true
          },
          "displayOptions": {
            "show": {}
          }
        },
        {
          "displayName": "Bonus Argument (JSON)",
          "name": "bonusArgumentJson",
          "type": "string",
          "description": "Agent bonus argument. Can either be a JSON string or a plain object. This bonus argument is single-use, it will only be used for the current launch. If present, it will be merged with the original argument, resulting in an effective argument that can be retrieved with buster.argument in the agent\u2019s script.",
          "default": "",
          "displayOptions": {
            "show": {}
          }
        },
        {
          "displayName": "Manual Launch",
          "name": "manualLaunch",
          "type": "boolean",
          "description": "Whether the agent will be considered as \"launched manually\"",
          "default": false
        },
        {
          "displayName": "Max Instance Count",
          "name": "maxInstanceCount",
          "type": "number",
          "description": "If set, the agent will only be launched if the number of already running instances is below the specified number",
          "default": 0
        },
        {
          "displayName": "Save Argument",
          "name": "saveArgument",
          "type": "string",
          "description": "If true, argument will be saved as the default launch options for the agent",
          "default": ""
        }
      ],
      "typeOptions": {
        "multipleValues": true
      },
      "displayOptions": {
        "show": {
          "resource": [
            "agent"
          ],
          "operation": [
            "launch"
          ]
        }
      },
      "_operation": "launch",
      "_source": "Agent_agentFields"
    }
  ],
  "operations": [
    {
      "name": "Delete",
      "description": "Delete an agent by ID",
      "action": "Delete an agent",
      "value": "delete",
      "displayName": "Delete"
    },
    {
      "name": "Get",
      "description": "Get an agent by ID",
      "action": "Get an agent",
      "value": "get",
      "displayName": "Get"
    },
    {
      "name": "Get Many",
      "description": "Get many agents of the current user's organization",
      "action": "Get many agents",
      "value": "getAll",
      "displayName": "Get Many"
    },
    {
      "name": "Get Output",
      "description": "Get the output of the most recent container of an agent",
      "action": "Get the output of an agent",
      "value": "getOutput",
      "displayName": "Get Output"
    },
    {
      "name": "Launch",
      "description": "Add an agent to the launch queue",
      "action": "Add an agent to the launch queue",
      "value": "launch",
      "displayName": "Launch"
    }
  ],
  "operations_by_resource": {
    "agent": [
      {
        "name": "Delete",
        "description": "Delete an agent by ID",
        "action": "Delete an agent",
        "value": "delete",
        "displayName": "Delete"
      },
      {
        "name": "Get",
        "description": "Get an agent by ID",
        "action": "Get an agent",
        "value": "get",
        "displayName": "Get"
      },
      {
        "name": "Get Many",
        "description": "Get many agents of the current user's organization",
        "action": "Get many agents",
        "value": "getAll",
        "displayName": "Get Many"
      },
      {
        "name": "Get Output",
        "description": "Get the output of the most recent container of an agent",
        "action": "Get the output of an agent",
        "value": "getOutput",
        "displayName": "Get Output"
      },
      {
        "name": "Launch",
        "description": "Add an agent to the launch queue",
        "action": "Add an agent to the launch queue",
        "value": "launch",
        "displayName": "Launch"
      }
    ]
  },
  "credentials": [
    {
      "name": "phantombusterApi",
      "required": true
    }
  ],
  "workflow_examples": [],
  "expressions": [
    "={{$parameter[\"operation\"] + \": \" + $parameter[\"resource\"]}}"
  ],
  "validation_rules": {
    "operation": {
      "displayOptions": {
        "show": {
          "resource": [
            "agent"
          ]
        }
      }
    },
    "agentId": {
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "launch"
          ],
          "resource": [
            "agent"
          ]
        }
      }
    },
    "returnAll": {
      "displayOptions": {
        "show": {
          "operation": [
            "getAll"
          ],
          "resource": [
            "agent"
          ]
        }
      }
    },
    "limit": {
      "displayOptions": {
        "show": {
          "operation": [
            "getAll"
          ],
          "resource": [
            "agent"
          ],
          "returnAll": [
            false
          ]
        }
      }
    },
    "resolveData": {
      "displayOptions": {
        "show": {
          "operation": [
            "launch"
          ],
          "resource": [
            "agent"
          ]
        }
      }
    },
    "additionalFields": {
      "displayOptions": {
        "show": {
          "resource": [
            "agent"
          ],
          "operation": [
            "launch"
          ]
        }
      }
    },
    "jsonParameters": {
      "displayOptions": {
        "show": {
          "operation": [
            "launch"
          ],
          "resource": [
            "agent"
          ]
        }
      }
    }
  },
  "type_info": {
    "resource": {
      "type": "options",
      "displayName": "Resource",
      "name": "resource",
      "possibleValues": [
        {
          "value": "agent",
          "name": "Agent",
          "description": ""
        }
      ]
    },
    "operation": {
      "type": "options",
      "displayName": "Operation",
      "name": "operation",
      "possibleValues": [
        {
          "value": "delete",
          "name": "Delete",
          "description": "Delete an agent by ID"
        },
        {
          "value": "get",
          "name": "Get",
          "description": "Get an agent by ID"
        },
        {
          "value": "getAll",
          "name": "Get Many",
          "description": "Get many agents of the current user's organization"
        },
        {
          "value": "getOutput",
          "name": "Get Output",
          "description": "Get the output of the most recent container of an agent"
        },
        {
          "value": "launch",
          "name": "Launch",
          "description": "Add an agent to the launch queue"
        }
      ]
    },
    "agentId": {
      "type": "options",
      "displayName": "Agent Name or ID",
      "name": "agentId",
      "typeOptions": {
        "loadOptionsMethod": "getAgents"
      },
      "possibleValues": []
    },
    "returnAll": {
      "type": "boolean",
      "displayName": "Return All",
      "name": "returnAll"
    },
    "limit": {
      "type": "number",
      "displayName": "Limit",
      "name": "limit",
      "typeOptions": {
        "minValue": 1,
        "maxValue": 50
      }
    },
    "resolveData": {
      "type": "boolean",
      "displayName": "Resolve Data",
      "name": "resolveData"
    },
    "additionalFields": {
      "type": "collection",
      "displayName": "Additional Fields",
      "name": "additionalFields",
      "typeOptions": {
        "multipleValues": true
      },
      "subProperties": [
        {
          "displayName": "Arguments (JSON)",
          "name": "argumentsJson",
          "type": "json",
          "description": "Agent argument. Can either be a JSON string or a plain object. The argument can be retrieved with buster.argument in the agent\u2019s script.",
          "default": "",
          "displayOptions": {
            "show": {}
          }
        },
        {
          "displayName": "Arguments",
          "name": "argumentsUi",
          "type": "fixedCollection",
          "description": "Name of the argument key to add",
          "placeholder": "Add Argument",
          "default": {},
          "options": [
            {
              "name": "argumentValues",
              "displayName": "Argument",
              "values": [
                {
                  "displayName": "Key",
                  "name": "key",
                  "type": "string",
                  "description": "Name of the argument key to add",
                  "default": ""
                },
                {
                  "displayName": "Value",
                  "name": "value",
                  "type": "string",
                  "description": "Value to set for the argument key",
                  "default": ""
                }
              ]
            }
          ],
          "typeOptions": {
            "multipleValues": true
          },
          "displayOptions": {
            "show": {}
          }
        },
        {
          "displayName": "Bonus Argument",
          "name": "bonusArgumentUi",
          "type": "fixedCollection",
          "description": "Name of the argument key to add",
          "placeholder": "Add Bonus Argument",
          "default": {},
          "options": [
            {
              "name": "bonusArgumentValue",
              "displayName": "Bonus Argument",
              "values": [
                {
                  "displayName": "Key",
                  "name": "key",
                  "type": "string",
                  "description": "Name of the argument key to add",
                  "default": ""
                },
                {
                  "displayName": "Value",
                  "name": "value",
                  "type": "string",
                  "description": "Value to set for the argument key",
                  "default": ""
                }
              ]
            }
          ],
          "typeOptions": {
            "multipleValues": true
          },
          "displayOptions": {
            "show": {}
          }
        },
        {
          "displayName": "Bonus Argument (JSON)",
          "name": "bonusArgumentJson",
          "type": "string",
          "description": "Agent bonus argument. Can either be a JSON string or a plain object. This bonus argument is single-use, it will only be used for the current launch. If present, it will be merged with the original argument, resulting in an effective argument that can be retrieved with buster.argument in the agent\u2019s script.",
          "default": "",
          "displayOptions": {
            "show": {}
          }
        },
        {
          "displayName": "Manual Launch",
          "name": "manualLaunch",
          "type": "boolean",
          "description": "Whether the agent will be considered as \"launched manually\"",
          "default": false
        },
        {
          "displayName": "Max Instance Count",
          "name": "maxInstanceCount",
          "type": "number",
          "description": "If set, the agent will only be launched if the number of already running instances is below the specified number",
          "default": 0
        },
        {
          "displayName": "Save Argument",
          "name": "saveArgument",
          "type": "string",
          "description": "If true, argument will be saved as the default launch options for the agent",
          "default": ""
        }
      ]
    },
    "jsonParameters": {
      "type": "boolean",
      "displayName": "JSON Parameters",
      "name": "jsonParameters"
    }
  },
  "api_patterns": {
    "http_methods": [],
    "endpoints": [],
    "headers": [],
    "query_params": []
  },
  "ui_elements": {
    "notices": [],
    "tooltips": [],
    "placeholders": [
      {
        "field": "additionalFields",
        "text": "Add Field"
      },
      {
        "field": "additionalFields",
        "text": "Add Field"
      }
    ],
    "hints": []
  },
  "settings": {
    "common": {
      "notes": {
        "name": "Notes",
        "field_id": "notes",
        "type": "string",
        "default": "",
        "description": "Optional note to save with the node"
      },
      "notesInFlow": {
        "name": "Display Note in Flow?",
        "field_id": "notesInFlow",
        "type": "boolean",
        "default": false,
        "description": "If active, the note above will display in the flow as a subtitle"
      }
    },
    "executable": {
      "alwaysOutputData": {
        "name": "Always Output Data",
        "field_id": "alwaysOutputData",
        "type": "boolean",
        "default": false,
        "description": "If active, will output a single, empty item when the output would have been empty. Use to prevent the workflow finishing on this node"
      },
      "executeOnce": {
        "name": "Execute Once",
        "field_id": "executeOnce",
        "type": "boolean",
        "default": false,
        "description": "If active, the node executes only once, with data from the first item it receives"
      },
      "retryOnFail": {
        "name": "Retry On Fail",
        "field_id": "retryOnFail",
        "type": "boolean",
        "default": false,
        "description": "If active, the node tries to execute again when it fails"
      },
      "maxTries": {
        "name": "Max. Tries",
        "field_id": "maxTries",
        "type": "number",
        "default": 3,
        "min": 2,
        "max": 5,
        "description": "Number of times to attempt to execute the node before failing the execution",
        "displayOptions": {
          "show": {
            "retryOnFail": [
              true
            ]
          }
        }
      },
      "waitBetweenTries": {
        "name": "Wait Between Tries (ms)",
        "field_id": "waitBetweenTries",
        "type": "number",
        "default": 1000,
        "min": 0,
        "max": 5000,
        "description": "How long to wait between each attempt (in milliseconds)",
        "displayOptions": {
          "show": {
            "retryOnFail": [
              true
            ]
          }
        }
      },
      "onError": {
        "name": "On Error",
        "field_id": "onError",
        "type": "options",
        "default": "stopWorkflow",
        "description": "Action to take when the node execution fails",
        "options": [
          {
            "name": "Stop Workflow",
            "value": "stopWorkflow",
            "description": "Halt execution and fail workflow"
          },
          {
            "name": "Continue",
            "value": "continueRegularOutput",
            "description": "Pass error message as item in regular output"
          },
          {
            "name": "Continue (using error output)",
            "value": "continueErrorOutput",
            "description": "Pass item to an extra `error` output"
          }
        ]
      }
    },
    "note": "Executable nodes have both common and executable settings"
  }
}