{
  "node_info": {
    "icon": "fa:file-archive",
    "defaults": {
      "name": "Compression"
    },
    "inputs": [
      "Main"
    ],
    "outputs": [
      "Main"
    ],
    "group": [
      "transform"
    ],
    "authentication": [],
    "loadOptionsMethods": [],
    "eventTriggerDescription": "",
    "activationMessage": "",
    "triggerPanel": {},
    "supportsCORS": false,
    "displayName": "Compression",
    "name": "compression",
    "description": "Compress and decompress files",
    "subtitle": "={{$parameter[\"operation\"]}}",
    "iconColor": "green",
    "version": [
      "1",
      "1.1"
    ],
    "usableAsTool": true,
    "node_type": "regular"
  },
  "metadata": {
    "node": "n8n-nodes-base.compression",
    "nodeVersion": "1.0",
    "codexVersion": "1.0",
    "details": "The Compression node is useful when you want to compress files to either gzip or zip format. You can even use this node to decompress your gzip and zip files.",
    "categories": [
      "Core Nodes",
      "Data & Storage"
    ],
    "resources": {
      "primaryDocumentation": [
        {
          "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.compression/"
        }
      ]
    },
    "alias": [
      "Zip",
      "Gzip",
      "uncompress",
      "compress",
      "decompress",
      "archive",
      "unarchive",
      "Binary",
      "Files",
      "File"
    ],
    "subcategories": {
      "Core Nodes": [
        "Files",
        "Data Transformation"
      ]
    }
  },
  "properties": [
    {
      "displayName": "Operation",
      "name": "operation",
      "type": "options",
      "description": "Compress files into a zip or gzip archive",
      "action": "Compress file(s)",
      "value": "compress",
      "default": "decompress",
      "noDataExpression": true,
      "options": [
        {
          "name": "Compress",
          "description": "Compress files into a zip or gzip archive",
          "action": "Compress file(s)",
          "value": "compress",
          "displayName": "Compress"
        },
        {
          "name": "Decompress",
          "description": "Decompress zip or gzip archives",
          "action": "Decompress file(s)",
          "value": "decompress",
          "displayName": "Decompress"
        }
      ]
    },
    {
      "displayName": "Input Binary Field(s)",
      "name": "binaryPropertyName",
      "type": "string",
      "description": "To process more than one file, use a comma-separated list of the binary fields names",
      "placeholder": "e.g. data,data2,data3",
      "hint": "The name of the input binary field(s) containing the file(s) to be compressed",
      "default": "data",
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "compress"
          ]
        }
      },
      "_operation": "compress"
    },
    {
      "displayName": "Input Binary Field(s)",
      "name": "binaryPropertyName",
      "type": "string",
      "description": "To process more than one file, use a comma-separated list of the binary fields names",
      "placeholder": "e.g. data",
      "hint": "The name of the input binary field(s) containing the file(s) to decompress",
      "default": "data",
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "decompress"
          ]
        }
      },
      "_operation": "decompress"
    },
    {
      "displayName": "Output Format",
      "name": "outputFormat",
      "type": "options",
      "description": "Format of the output",
      "value": "gzip",
      "default": "",
      "options": [
        {
          "name": "Gzip",
          "value": "gzip",
          "displayName": "Gzip"
        },
        {
          "name": "Zip",
          "value": "zip",
          "displayName": "Zip"
        }
      ],
      "displayOptions": {
        "show": {
          "operation": [
            "compress"
          ]
        }
      },
      "_operation": "compress"
    },
    {
      "displayName": "Output Format",
      "name": "outputFormat",
      "type": "options",
      "description": "Format of the output",
      "value": "gzip",
      "default": "zip",
      "options": [
        {
          "name": "Gzip",
          "value": "gzip",
          "displayName": "Gzip"
        },
        {
          "name": "Zip",
          "value": "zip",
          "displayName": "Zip"
        }
      ],
      "displayOptions": {
        "show": {
          "operation": [
            "compress"
          ]
        },
        "hide": {}
      },
      "_operation": "compress"
    },
    {
      "displayName": "File Name",
      "name": "fileName",
      "type": "string",
      "description": "Name of the output file",
      "placeholder": "e.g. data.zip",
      "default": "",
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "compress"
          ],
          "outputFormat": [
            "zip"
          ]
        }
      },
      "_operation": "compress"
    },
    {
      "displayName": "Put Output File in Field",
      "name": "binaryPropertyOutput",
      "type": "string",
      "hint": "The name of the output binary field to put the file in",
      "default": "data",
      "displayOptions": {
        "show": {
          "outputFormat": [
            "zip"
          ],
          "operation": [
            "compress"
          ]
        }
      },
      "_operation": "compress"
    },
    {
      "displayName": "File Name",
      "name": "fileName",
      "type": "string",
      "description": "Name of the output file",
      "placeholder": "e.g. data.txt",
      "default": "",
      "displayOptions": {
        "show": {
          "operation": [
            "compress"
          ],
          "outputFormat": [
            "gzip"
          ]
        },
        "hide": {}
      },
      "_operation": "compress"
    },
    {
      "displayName": "Put Output File in Field",
      "name": "binaryPropertyOutput",
      "type": "string",
      "hint": "The name of the output binary field to put the file in",
      "default": "data",
      "displayOptions": {
        "show": {
          "outputFormat": [
            "gzip"
          ],
          "operation": [
            "compress"
          ]
        },
        "hide": {}
      },
      "_operation": "compress"
    },
    {
      "displayName": "Output File Prefix",
      "name": "outputPrefix",
      "type": "string",
      "description": "Prefix to add to the gzip file",
      "default": "data",
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "compress"
          ],
          "outputFormat": [
            "gzip"
          ]
        }
      },
      "_operation": "compress"
    },
    {
      "displayName": "Output Prefix",
      "name": "outputPrefix",
      "type": "string",
      "description": "Prefix to add to the decompressed files",
      "default": "file_",
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "decompress"
          ]
        }
      },
      "_operation": "decompress"
    }
  ],
  "operations": [
    {
      "name": "Compress",
      "description": "Compress files into a zip or gzip archive",
      "action": "Compress file(s)",
      "value": "compress",
      "displayName": "Compress"
    },
    {
      "name": "Decompress",
      "description": "Decompress zip or gzip archives",
      "action": "Decompress file(s)",
      "value": "decompress",
      "displayName": "Decompress"
    }
  ],
  "operations_by_resource": {},
  "credentials": [],
  "workflow_examples": [],
  "expressions": [
    "={{$parameter[\"operation\"]}}"
  ],
  "validation_rules": {
    "binaryPropertyName": {
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "decompress"
          ]
        }
      }
    },
    "outputFormat": {
      "displayOptions": {
        "show": {
          "operation": [
            "compress"
          ]
        },
        "hide": {}
      }
    },
    "fileName": {
      "displayOptions": {
        "show": {
          "operation": [
            "compress"
          ],
          "outputFormat": [
            "gzip"
          ]
        },
        "hide": {}
      }
    },
    "binaryPropertyOutput": {
      "displayOptions": {
        "show": {
          "outputFormat": [
            "gzip"
          ],
          "operation": [
            "compress"
          ]
        },
        "hide": {}
      }
    },
    "outputPrefix": {
      "required": true,
      "displayOptions": {
        "show": {
          "operation": [
            "decompress"
          ]
        }
      }
    }
  },
  "type_info": {
    "operation": {
      "type": "options",
      "displayName": "Operation",
      "name": "operation",
      "possibleValues": [
        {
          "value": "compress",
          "name": "Compress",
          "description": "Compress files into a zip or gzip archive"
        },
        {
          "value": "decompress",
          "name": "Decompress",
          "description": "Decompress zip or gzip archives"
        }
      ]
    },
    "binaryPropertyName": {
      "type": "string",
      "displayName": "Input Binary Field(s)",
      "name": "binaryPropertyName"
    },
    "outputFormat": {
      "type": "options",
      "displayName": "Output Format",
      "name": "outputFormat",
      "possibleValues": [
        {
          "value": "gzip",
          "name": "Gzip",
          "description": ""
        },
        {
          "value": "zip",
          "name": "Zip",
          "description": ""
        }
      ]
    },
    "fileName": {
      "type": "string",
      "displayName": "File Name",
      "name": "fileName"
    },
    "binaryPropertyOutput": {
      "type": "string",
      "displayName": "Put Output File in Field",
      "name": "binaryPropertyOutput"
    },
    "outputPrefix": {
      "type": "string",
      "displayName": "Output Prefix",
      "name": "outputPrefix"
    }
  },
  "api_patterns": {},
  "ui_elements": {
    "notices": [],
    "tooltips": [],
    "placeholders": [
      {
        "field": "binaryPropertyName",
        "text": "e.g. data,data2,data3"
      },
      {
        "field": "binaryPropertyName",
        "text": "e.g. data"
      },
      {
        "field": "fileName",
        "text": "e.g. data.zip"
      },
      {
        "field": "fileName",
        "text": "e.g. data.txt"
      }
    ],
    "hints": [
      {
        "field": "binaryPropertyName",
        "text": "The name of the input binary field(s) containing the file(s) to be compressed"
      },
      {
        "field": "binaryPropertyName",
        "text": "The name of the input binary field(s) containing the file(s) to decompress"
      },
      {
        "field": "binaryPropertyOutput",
        "text": "The name of the output binary field to put the file in"
      },
      {
        "field": "binaryPropertyOutput",
        "text": "The name of the output binary field to put the file in"
      }
    ]
  },
  "settings": {
    "common": {
      "notes": {
        "name": "Notes",
        "field_id": "notes",
        "type": "string",
        "default": "",
        "description": "Optional note to save with the node"
      },
      "notesInFlow": {
        "name": "Display Note in Flow?",
        "field_id": "notesInFlow",
        "type": "boolean",
        "default": false,
        "description": "If active, the note above will display in the flow as a subtitle"
      }
    },
    "executable": {
      "alwaysOutputData": {
        "name": "Always Output Data",
        "field_id": "alwaysOutputData",
        "type": "boolean",
        "default": false,
        "description": "If active, will output a single, empty item when the output would have been empty. Use to prevent the workflow finishing on this node"
      },
      "executeOnce": {
        "name": "Execute Once",
        "field_id": "executeOnce",
        "type": "boolean",
        "default": false,
        "description": "If active, the node executes only once, with data from the first item it receives"
      },
      "retryOnFail": {
        "name": "Retry On Fail",
        "field_id": "retryOnFail",
        "type": "boolean",
        "default": false,
        "description": "If active, the node tries to execute again when it fails"
      },
      "maxTries": {
        "name": "Max. Tries",
        "field_id": "maxTries",
        "type": "number",
        "default": 3,
        "min": 2,
        "max": 5,
        "description": "Number of times to attempt to execute the node before failing the execution",
        "displayOptions": {
          "show": {
            "retryOnFail": [
              true
            ]
          }
        }
      },
      "waitBetweenTries": {
        "name": "Wait Between Tries (ms)",
        "field_id": "waitBetweenTries",
        "type": "number",
        "default": 1000,
        "min": 0,
        "max": 5000,
        "description": "How long to wait between each attempt (in milliseconds)",
        "displayOptions": {
          "show": {
            "retryOnFail": [
              true
            ]
          }
        }
      },
      "onError": {
        "name": "On Error",
        "field_id": "onError",
        "type": "options",
        "default": "stopWorkflow",
        "description": "Action to take when the node execution fails",
        "options": [
          {
            "name": "Stop Workflow",
            "value": "stopWorkflow",
            "description": "Halt execution and fail workflow"
          },
          {
            "name": "Continue",
            "value": "continueRegularOutput",
            "description": "Pass error message as item in regular output"
          },
          {
            "name": "Continue (using error output)",
            "value": "continueErrorOutput",
            "description": "Pass item to an extra `error` output"
          }
        ]
      }
    },
    "note": "Executable nodes have both common and executable settings"
  }
}