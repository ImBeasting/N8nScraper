{
  "node_info": {
    "icon": "file:itemLists.svg",
    "defaults": {
      "name": "Item Lists"
    },
    "inputs": [
      "Main"
    ],
    "outputs": [
      "Main"
    ],
    "group": [
      "input"
    ],
    "authentication": [],
    "loadOptionsMethods": [],
    "eventTriggerDescription": "",
    "activationMessage": "",
    "triggerPanel": {},
    "supportsCORS": false,
    "displayName": "Item Lists",
    "subtitle": "={{$parameter[",
    "description": "Helper for working with lists of items and transforming arrays",
    "name": "Item Lists",
    "version": [
      "2",
      "2.1",
      "2.2"
    ],
    "node_type": "regular"
  },
  "metadata": {},
  "properties": [
    {
      "displayName": "Resource",
      "name": "resource",
      "type": "hidden",
      "value": "itemList",
      "default": "itemList"
    },
    {
      "displayName": "Operation",
      "name": "operation",
      "type": "options",
      "description": "Combine fields into a list in a single new item",
      "action": "Concatenate Items",
      "value": "aggregateItems",
      "default": "splitOutItems",
      "noDataExpression": true,
      "options": [
        {
          "name": "Concatenate Items",
          "description": "Combine fields into a list in a single new item",
          "action": "Concatenate Items",
          "value": "aggregateItems",
          "displayName": "Concatenate Items"
        },
        {
          "name": "Limit",
          "description": "Remove items if there are too many",
          "action": "Limit",
          "value": "limit",
          "displayName": "Limit"
        },
        {
          "name": "Remove Duplicates",
          "description": "Remove extra items that are similar",
          "action": "Remove Duplicates",
          "value": "removeDuplicates",
          "displayName": "Remove Duplicates"
        },
        {
          "name": "Sort",
          "description": "Change the item order",
          "action": "Sort",
          "value": "sort",
          "displayName": "Sort"
        },
        {
          "name": "Split Out Items",
          "description": "Turn a list or values of object's properties inside item(s) into separate items",
          "action": "Split Out Items",
          "value": "splitOutItems",
          "displayName": "Split Out Items"
        },
        {
          "name": "Summarize",
          "description": "Aggregate items together (pivot table)",
          "action": "Summarize",
          "value": "summarize",
          "displayName": "Summarize"
        }
      ]
    },
    {
      "displayName": "Fields To Split Out",
      "name": "fieldToSplitOut",
      "type": "string",
      "description": "The name of the input fields to break out into separate items",
      "default": "",
      "required": true,
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "splitOutItems"
          ]
        }
      },
      "_operation": "splitOutItems"
    },
    {
      "displayName": "Include",
      "name": "include",
      "type": "options",
      "description": "Whether to copy any other fields into the new items",
      "value": "noOtherFields",
      "default": "noOtherFields",
      "options": [
        {
          "name": "No Other Fields",
          "value": "noOtherFields",
          "displayName": "No Other Fields"
        },
        {
          "name": "All Other Fields",
          "value": "allOtherFields",
          "displayName": "All Other Fields"
        },
        {
          "name": "Selected Other Fields",
          "value": "selectedOtherFields",
          "displayName": "Selected Other Fields"
        }
      ],
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "splitOutItems"
          ]
        }
      },
      "_operation": "splitOutItems"
    },
    {
      "displayName": "Fields To Include",
      "name": "fieldsToInclude",
      "type": "fixedCollection",
      "description": "A field in the input items to aggregate together",
      "placeholder": "Add Field To Include",
      "hint": "Enter the field name as text",
      "default": {},
      "options": [
        {
          "name": "fields",
          "values": [
            {
              "displayName": "Field Name",
              "name": "fieldName",
              "type": "string",
              "description": "A field in the input items to aggregate together",
              "placeholder": "e.g. id",
              "hint": "Enter the field name as text",
              "default": ""
            }
          ]
        }
      ],
      "typeOptions": {
        "multipleValues": true
      },
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "splitOutItems"
          ],
          "include": [
            "selectedOtherFields"
          ]
        }
      },
      "_operation": "splitOutItems"
    },
    {
      "displayName": "Aggregate",
      "name": "aggregate",
      "type": "options",
      "value": "aggregateIndividualFields",
      "default": "aggregateIndividualFields",
      "options": [
        {
          "name": "Individual Fields",
          "value": "aggregateIndividualFields",
          "displayName": "Individual Fields"
        },
        {
          "name": "All Item Data (Into a Single List)",
          "value": "aggregateAllItemData",
          "displayName": "All Item Data (into A Single List)"
        }
      ],
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "aggregateItems"
          ]
        }
      },
      "_operation": "aggregateItems"
    },
    {
      "displayName": "Fields To Aggregate",
      "name": "fieldsToAggregate",
      "type": "fixedCollection",
      "description": "The name of a field in the input items to aggregate together",
      "placeholder": "Add Field To Aggregate",
      "hint": "Enter the field name as text",
      "default": "",
      "options": [
        {
          "name": "fieldToAggregate",
          "values": [
            {
              "displayName": "Input Field Name",
              "name": "fieldToAggregate",
              "type": "string",
              "description": "The name of a field in the input items to aggregate together",
              "placeholder": "e.g. id",
              "hint": "Enter the field name as text",
              "default": ""
            },
            {
              "displayName": "Rename Field",
              "name": "renameField",
              "type": "boolean",
              "description": "Whether to give the field a different name in the output",
              "default": false
            },
            {
              "displayName": "Output Field Name",
              "name": "outputFieldName",
              "type": "string",
              "description": "The name of the field to put the aggregated data in. Leave blank to use the input field name.",
              "default": "",
              "displayOptions": {
                "show": {
                  "renameField": [
                    true
                  ]
                }
              }
            }
          ]
        }
      ],
      "typeOptions": {
        "multipleValues": true
      },
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "aggregateItems"
          ],
          "aggregate": [
            "aggregateIndividualFields"
          ]
        }
      },
      "_operation": "aggregateItems"
    },
    {
      "displayName": "Put Output in Field",
      "name": "destinationFieldName",
      "type": "string",
      "description": "The name of the output field to put the data in",
      "default": "data",
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "aggregateItems"
          ],
          "aggregate": [
            "aggregateAllItemData"
          ]
        }
      },
      "_operation": "aggregateItems"
    },
    {
      "displayName": "Include",
      "name": "include",
      "type": "options",
      "value": "allFields",
      "default": "allFields",
      "options": [
        {
          "name": "All Fields",
          "value": "allFields",
          "displayName": "All Fields"
        },
        {
          "name": "Specified Fields",
          "value": "specifiedFields",
          "displayName": "Specified Fields"
        },
        {
          "name": "All Fields Except",
          "value": "allFieldsExcept",
          "displayName": "All Fields Except"
        }
      ],
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "aggregateItems"
          ],
          "aggregate": [
            "aggregateAllItemData"
          ]
        }
      },
      "_operation": "aggregateItems"
    },
    {
      "displayName": "Fields To Exclude",
      "name": "fieldsToExclude",
      "type": "fixedCollection",
      "description": "A field in the input to exclude from the object in output array",
      "placeholder": "Add Field To Exclude",
      "hint": "Enter the field name as text",
      "default": {},
      "options": [
        {
          "name": "fields",
          "values": [
            {
              "displayName": "Field Name",
              "name": "fieldName",
              "type": "string",
              "description": "A field in the input to exclude from the object in output array",
              "placeholder": "e.g. id",
              "hint": "Enter the field name as text",
              "default": ""
            }
          ]
        }
      ],
      "typeOptions": {
        "multipleValues": true
      },
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "aggregateItems"
          ],
          "aggregate": [
            "aggregateAllItemData"
          ],
          "include": [
            "allFieldsExcept"
          ]
        }
      },
      "_operation": "aggregateItems"
    },
    {
      "displayName": "Fields To Include",
      "name": "fieldsToInclude",
      "type": "fixedCollection",
      "description": "Specify fields that will be included in output array",
      "placeholder": "Add Field To Include",
      "hint": "Enter the field name as text",
      "default": {},
      "options": [
        {
          "name": "fields",
          "values": [
            {
              "displayName": "Field Name",
              "name": "fieldName",
              "type": "string",
              "description": "Specify fields that will be included in output array",
              "placeholder": "e.g. id",
              "hint": "Enter the field name as text",
              "default": ""
            }
          ]
        }
      ],
      "typeOptions": {
        "multipleValues": true
      },
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "aggregateItems"
          ],
          "aggregate": [
            "aggregateAllItemData"
          ],
          "include": [
            "specifiedFields"
          ]
        }
      },
      "_operation": "aggregateItems"
    },
    {
      "displayName": "Compare",
      "name": "compare",
      "type": "options",
      "description": "The fields of the input items to compare to see if they are the same",
      "value": "allFields",
      "default": "allFields",
      "options": [
        {
          "name": "All Fields",
          "value": "allFields",
          "displayName": "All Fields"
        },
        {
          "name": "All Fields Except",
          "value": "allFieldsExcept",
          "displayName": "All Fields Except"
        },
        {
          "name": "Selected Fields",
          "value": "selectedFields",
          "displayName": "Selected Fields"
        }
      ],
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "removeDuplicates"
          ]
        }
      },
      "_operation": "removeDuplicates"
    },
    {
      "displayName": "Fields To Exclude",
      "name": "fieldsToExclude",
      "type": "fixedCollection",
      "description": "A field in the input to exclude from the comparison",
      "placeholder": "Add Field To Exclude",
      "hint": "Enter the field name as text",
      "default": {},
      "options": [
        {
          "name": "fields",
          "values": [
            {
              "displayName": "Field Name",
              "name": "fieldName",
              "type": "string",
              "description": "A field in the input to exclude from the comparison",
              "placeholder": "e.g. id",
              "hint": "Enter the field name as text",
              "default": ""
            }
          ]
        }
      ],
      "typeOptions": {
        "multipleValues": true
      },
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "removeDuplicates"
          ],
          "compare": [
            "allFieldsExcept"
          ]
        }
      },
      "_operation": "removeDuplicates"
    },
    {
      "displayName": "Fields To Compare",
      "name": "fieldsToCompare",
      "type": "fixedCollection",
      "description": "A field in the input to add to the comparison",
      "placeholder": "Add Field To Compare",
      "hint": "Enter the field name as text",
      "default": {},
      "options": [
        {
          "name": "fields",
          "values": [
            {
              "displayName": "Field Name",
              "name": "fieldName",
              "type": "string",
              "description": "A field in the input to add to the comparison",
              "placeholder": "e.g. id",
              "hint": "Enter the field name as text",
              "default": ""
            }
          ]
        }
      ],
      "typeOptions": {
        "multipleValues": true
      },
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "removeDuplicates"
          ],
          "compare": [
            "selectedFields"
          ]
        }
      },
      "_operation": "removeDuplicates"
    },
    {
      "displayName": "Type",
      "name": "type",
      "type": "options",
      "description": "The fields of the input items to compare to see if they are the same",
      "value": "simple",
      "default": "simple",
      "options": [
        {
          "name": "Simple",
          "value": "simple",
          "displayName": "Simple"
        },
        {
          "name": "Random",
          "value": "random",
          "displayName": "Random"
        },
        {
          "name": "Code",
          "value": "code",
          "displayName": "Code"
        }
      ],
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "sort"
          ]
        }
      },
      "_operation": "sort"
    },
    {
      "displayName": "Fields To Sort By",
      "name": "sortFieldsUi",
      "type": "fixedCollection",
      "description": "The field to sort by",
      "placeholder": "Add Field To Sort By",
      "hint": "Enter the field name as text",
      "value": "ascending",
      "default": "",
      "required": true,
      "options": [
        {
          "name": "sortField",
          "values": [
            {
              "displayName": "Field Name",
              "name": "fieldName",
              "type": "string",
              "description": "The field to sort by",
              "placeholder": "e.g. id",
              "hint": "Enter the field name as text",
              "default": "",
              "required": true
            },
            {
              "displayName": "Order",
              "name": "order",
              "type": "options",
              "description": "The order to sort by",
              "value": "ascending",
              "default": "ascending",
              "options": [
                {
                  "name": "Ascending",
                  "value": "ascending",
                  "displayName": "Ascending"
                },
                {
                  "name": "Descending",
                  "value": "descending",
                  "displayName": "Descending"
                }
              ]
            }
          ]
        }
      ],
      "typeOptions": {
        "multipleValues": true
      },
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "sort"
          ],
          "type": [
            "simple"
          ]
        }
      },
      "_operation": "sort"
    },
    {
      "displayName": "Code",
      "name": "code",
      "type": "string",
      "description": "Javascript code to determine the order of any two items",
      "default": "// The two items to compare are in the variables a and b\n// Access the fields in a.json and b.json\n// Return -1 if a should go before b\n// Return 1 if b should go before a\n// Return 0 if there's no difference\n\nfieldName = 'myField';\n\nif (a.json[fieldName] < b.json[fieldName]) {\n\t\treturn -1;\n}\nif (a.json[fieldName] > b.json[fieldName]) {\n\t\treturn 1;\n}\nreturn 0;",
      "typeOptions": {
        "rows": 10,
        "alwaysOpenEditWindow": true
      },
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "sort"
          ],
          "type": [
            "code"
          ]
        }
      },
      "_operation": "sort"
    },
    {
      "displayName": "Max Items",
      "name": "maxItems",
      "type": "number",
      "description": "If there are more items than this number, some are removed",
      "default": 1,
      "typeOptions": {
        "minValue": 1
      },
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "limit"
          ]
        }
      },
      "_operation": "limit"
    },
    {
      "displayName": "Keep",
      "name": "keep",
      "type": "options",
      "description": "When removing items, whether to keep the ones at the start or the ending",
      "value": "firstItems",
      "default": "firstItems",
      "options": [
        {
          "name": "First Items",
          "value": "firstItems",
          "displayName": "First Items"
        },
        {
          "name": "Last Items",
          "value": "lastItems",
          "displayName": "Last Items"
        }
      ],
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "limit"
          ]
        }
      },
      "_operation": "limit"
    },
    {
      "displayName": "Options",
      "name": "options",
      "type": "collection",
      "description": "Whether to remove any fields that are not being compared. If disabled, will keep the values from the first of the duplicates.",
      "placeholder": "Add Field",
      "default": {},
      "options": [
        {
          "displayName": "Remove Other Fields",
          "name": "removeOtherFields",
          "type": "boolean",
          "description": "Whether to remove any fields that are not being compared. If disabled, will keep the values from the first of the duplicates.",
          "default": false
        },
        {
          "displayName": "Disable Dot Notation",
          "name": "disableDotNotation",
          "type": "boolean",
          "description": "Whether to disallow referencing child fields using `parent.child` in the field name",
          "default": false
        }
      ],
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "removeDuplicates"
          ],
          "compare": [
            "allFieldsExcept",
            "selectedFields"
          ]
        }
      },
      "_operation": "removeDuplicates"
    },
    {
      "displayName": "Options",
      "name": "options",
      "type": "collection",
      "description": "Whether to disallow referencing child fields using `parent.child` in the field name",
      "placeholder": "Add Field",
      "default": {},
      "options": [
        {
          "displayName": "Disable Dot Notation",
          "name": "disableDotNotation",
          "type": "boolean",
          "description": "Whether to disallow referencing child fields using `parent.child` in the field name",
          "default": false
        }
      ],
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "sort"
          ],
          "type": [
            "simple"
          ]
        }
      },
      "_operation": "sort"
    },
    {
      "displayName": "Options",
      "name": "options",
      "type": "collection",
      "description": "Whether to disallow referencing child fields using `parent.child` in the field name",
      "placeholder": "Add Field",
      "default": {},
      "options": [
        {
          "displayName": "Disable Dot Notation",
          "name": "disableDotNotation",
          "type": "boolean",
          "description": "Whether to disallow referencing child fields using `parent.child` in the field name",
          "default": false,
          "displayOptions": {
            "show": {}
          }
        },
        {
          "displayName": "Destination Field Name",
          "name": "destinationFieldName",
          "type": "string",
          "description": "The field in the output under which to put the split field contents",
          "default": "",
          "displayOptions": {
            "show": {}
          }
        },
        {
          "displayName": "Merge Lists",
          "name": "mergeLists",
          "type": "boolean",
          "description": "Whether to merge the output into a single flat list (rather than a list of lists), if the field to aggregate is a list",
          "default": false,
          "displayOptions": {
            "show": {}
          }
        },
        {
          "displayName": "Keep Missing And Null Values",
          "name": "keepMissing",
          "type": "boolean",
          "description": "Whether to add a null entry to the aggregated list when there is a missing or null value",
          "default": false,
          "displayOptions": {
            "show": {}
          }
        }
      ],
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "splitOutItems",
            "aggregateItems"
          ]
        },
        "hide": {
          "aggregate": [
            "aggregateAllItemData"
          ]
        }
      },
      "_operation": "splitOutItems,aggregateItems"
    },
    {
      "displayName": "Fields to Summarize",
      "name": "fieldsToSummarize",
      "type": "fixedCollection",
      "description": "How to combine the values of the field you want to summarize",
      "placeholder": "Add Field",
      "hint": "Enter the field name as text",
      "value": "append",
      "default": "count",
      "options": [
        {
          "name": "values",
          "values": [
            {
              "displayName": "Aggregation",
              "name": "aggregation",
              "type": "options",
              "description": "How to combine the values of the field you want to summarize",
              "value": "append",
              "default": "count",
              "options": [
                {
                  "name": "Append",
                  "value": "append",
                  "displayName": "Append"
                },
                {
                  "name": "Average",
                  "value": "average",
                  "displayName": "Average"
                },
                {
                  "name": "Concatenate",
                  "value": "concatenate",
                  "displayName": "Concatenate"
                },
                {
                  "name": "Count",
                  "value": "count",
                  "displayName": "Count"
                },
                {
                  "name": "Count Unique",
                  "value": "countUnique",
                  "displayName": "Count Unique"
                },
                {
                  "name": "Max",
                  "value": "max",
                  "displayName": "Max"
                },
                {
                  "name": "Min",
                  "value": "min",
                  "displayName": "Min"
                },
                {
                  "name": "Sum",
                  "value": "sum",
                  "displayName": "Sum"
                }
              ]
            },
            {
              "displayName": "Field",
              "name": "field",
              "type": "string",
              "description": "The name of an input field that you want to summarize",
              "placeholder": "e.g. cost",
              "hint": "Enter the field name as text",
              "default": "",
              "displayOptions": {
                "hide": {
                  "aggregation": [
                    "countUnique",
                    "count"
                  ]
                }
              }
            },
            {
              "displayName": "Field",
              "name": "field",
              "type": "string",
              "description": "The name of an input field that you want to summarize. The field should contain numerical values; null, undefined, empty strings would be ignored.",
              "placeholder": "e.g. cost",
              "hint": "Enter the field name as text",
              "default": "",
              "displayOptions": {
                "show": {}
              }
            },
            {
              "displayName": "Field",
              "name": "field",
              "type": "string",
              "description": "The name of an input field that you want to summarize; null, undefined, empty strings would be ignored",
              "placeholder": "e.g. cost",
              "hint": "Enter the field name as text",
              "default": "",
              "displayOptions": {
                "show": {
                  "aggregation": [
                    "countUnique",
                    "count"
                  ]
                }
              }
            },
            {
              "displayName": "Include Empty Values",
              "name": "includeEmpty",
              "type": "boolean",
              "default": false,
              "displayOptions": {
                "show": {
                  "aggregation": [
                    "append",
                    "concatenate"
                  ]
                }
              }
            },
            {
              "displayName": "Separator",
              "name": "separateBy",
              "type": "options",
              "hint": "What to insert between values",
              "value": ",",
              "default": ",",
              "options": [
                {
                  "name": "Comma",
                  "value": ",",
                  "displayName": "Comma"
                },
                {
                  "name": "Comma and Space",
                  "value": ",",
                  "displayName": "Comma And Space"
                },
                {
                  "name": "New Line",
                  "value": "n",
                  "displayName": "New Line"
                },
                {
                  "name": "None",
                  "displayName": "None"
                },
                {
                  "name": "Space",
                  "displayName": "Space"
                },
                {
                  "name": "Other",
                  "value": "other",
                  "displayName": "Other"
                }
              ],
              "displayOptions": {
                "show": {
                  "aggregation": [
                    "concatenate"
                  ]
                }
              }
            },
            {
              "displayName": "Custom Separator",
              "name": "customSeparator",
              "type": "string",
              "default": "",
              "displayOptions": {
                "show": {
                  "aggregation": [
                    "concatenate"
                  ],
                  "separateBy": [
                    "other"
                  ]
                }
              }
            }
          ]
        }
      ],
      "typeOptions": {
        "multipleValues": true
      },
      "displayOptions": {
        "hide": {
          "aggregation": [
            "countUnique",
            "count"
          ]
        }
      },
      "_source": "summarize"
    },
    {
      "displayName": "Fields to Split By",
      "name": "fieldsToSplitBy",
      "type": "string",
      "description": "The name of the input fields that you want to split the summary by",
      "placeholder": "e.g. country, city",
      "hint": "Enter the name of the fields as text (separated by commas)",
      "default": "",
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "summarize"
          ]
        },
        "hide": {}
      },
      "_operation": "summarize",
      "_source": "summarize"
    },
    {
      "displayName": "Fields to Group By",
      "name": "fieldsToSplitBy",
      "type": "string",
      "description": "The name of the input fields that you want to split the summary by",
      "placeholder": "e.g. country, city",
      "hint": "Enter the name of the fields as text (separated by commas)",
      "default": "",
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "summarize"
          ]
        }
      },
      "_operation": "summarize",
      "_source": "summarize"
    },
    {
      "displayName": "Options",
      "name": "options",
      "type": "collection",
      "description": "Whether to disallow referencing child fields using `parent.child` in the field name",
      "placeholder": "Add option",
      "value": "separateItems",
      "default": {},
      "options": [
        {
          "displayName": "Disable Dot Notation",
          "name": "disableDotNotation",
          "type": "boolean",
          "description": "Whether to disallow referencing child fields using `parent.child` in the field name",
          "default": false
        },
        {
          "displayName": "Output Format",
          "name": "outputFormat",
          "type": "options",
          "value": "separateItems",
          "default": "separateItems",
          "options": [
            {
              "name": "Each Split in a Separate Item",
              "value": "separateItems",
              "displayName": "Each Split In A Separate Item"
            },
            {
              "name": "All Splits in a Single Item",
              "value": "singleItem",
              "displayName": "All Splits In A Single Item"
            }
          ]
        },
        {
          "displayName": "Ignore items without valid fields to group by",
          "name": "skipEmptySplitFields",
          "type": "boolean",
          "default": false
        }
      ],
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "summarize"
          ]
        }
      },
      "_operation": "summarize",
      "_source": "summarize"
    }
  ],
  "operations": [
    {
      "name": "Concatenate Items",
      "description": "Combine fields into a list in a single new item",
      "action": "Concatenate Items",
      "value": "aggregateItems",
      "displayName": "Concatenate Items"
    },
    {
      "name": "Limit",
      "description": "Remove items if there are too many",
      "action": "Limit",
      "value": "limit",
      "displayName": "Limit"
    },
    {
      "name": "Remove Duplicates",
      "description": "Remove extra items that are similar",
      "action": "Remove Duplicates",
      "value": "removeDuplicates",
      "displayName": "Remove Duplicates"
    },
    {
      "name": "Sort",
      "description": "Change the item order",
      "action": "Sort",
      "value": "sort",
      "displayName": "Sort"
    },
    {
      "name": "Split Out Items",
      "description": "Turn a list or values of object's properties inside item(s) into separate items",
      "action": "Split Out Items",
      "value": "splitOutItems",
      "displayName": "Split Out Items"
    },
    {
      "name": "Summarize",
      "description": "Aggregate items together (pivot table)",
      "action": "Summarize",
      "value": "summarize",
      "displayName": "Summarize"
    }
  ],
  "operations_by_resource": {},
  "credentials": [],
  "workflow_examples": [],
  "expressions": [],
  "validation_rules": {
    "fieldToSplitOut": {
      "required": true,
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "splitOutItems"
          ]
        }
      }
    },
    "include": {
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "aggregateItems"
          ],
          "aggregate": [
            "aggregateAllItemData"
          ]
        }
      }
    },
    "fieldsToInclude": {
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "aggregateItems"
          ],
          "aggregate": [
            "aggregateAllItemData"
          ],
          "include": [
            "specifiedFields"
          ]
        }
      }
    },
    "aggregate": {
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "aggregateItems"
          ]
        }
      }
    },
    "fieldsToAggregate": {
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "aggregateItems"
          ],
          "aggregate": [
            "aggregateIndividualFields"
          ]
        }
      }
    },
    "destinationFieldName": {
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "aggregateItems"
          ],
          "aggregate": [
            "aggregateAllItemData"
          ]
        }
      }
    },
    "fieldsToExclude": {
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "removeDuplicates"
          ],
          "compare": [
            "allFieldsExcept"
          ]
        }
      }
    },
    "compare": {
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "removeDuplicates"
          ]
        }
      }
    },
    "fieldsToCompare": {
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "removeDuplicates"
          ],
          "compare": [
            "selectedFields"
          ]
        }
      }
    },
    "type": {
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "sort"
          ]
        }
      }
    },
    "sortFieldsUi": {
      "required": true,
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "sort"
          ],
          "type": [
            "simple"
          ]
        }
      }
    },
    "code": {
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "sort"
          ],
          "type": [
            "code"
          ]
        }
      }
    },
    "maxItems": {
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "limit"
          ]
        }
      }
    },
    "keep": {
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "limit"
          ]
        }
      }
    },
    "options": {
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "summarize"
          ]
        }
      }
    },
    "fieldsToSummarize": {
      "displayOptions": {
        "hide": {
          "aggregation": [
            "countUnique",
            "count"
          ]
        }
      }
    },
    "fieldsToSplitBy": {
      "displayOptions": {
        "show": {
          "resource": [
            "itemList"
          ],
          "operation": [
            "summarize"
          ]
        }
      }
    }
  },
  "type_info": {
    "resource": {
      "type": "hidden",
      "displayName": "Resource",
      "name": "resource"
    },
    "operation": {
      "type": "options",
      "displayName": "Operation",
      "name": "operation",
      "possibleValues": [
        {
          "value": "aggregateItems",
          "name": "Concatenate Items",
          "description": "Combine fields into a list in a single new item"
        },
        {
          "value": "limit",
          "name": "Limit",
          "description": "Remove items if there are too many"
        },
        {
          "value": "removeDuplicates",
          "name": "Remove Duplicates",
          "description": "Remove extra items that are similar"
        },
        {
          "value": "sort",
          "name": "Sort",
          "description": "Change the item order"
        },
        {
          "value": "splitOutItems",
          "name": "Split Out Items",
          "description": "Turn a list or values of object's properties inside item(s) into separate items"
        },
        {
          "value": "summarize",
          "name": "Summarize",
          "description": "Aggregate items together (pivot table)"
        }
      ]
    },
    "fieldToSplitOut": {
      "type": "string",
      "displayName": "Fields To Split Out",
      "name": "fieldToSplitOut"
    },
    "include": {
      "type": "options",
      "displayName": "Include",
      "name": "include",
      "possibleValues": [
        {
          "value": "allFields",
          "name": "All Fields",
          "description": ""
        },
        {
          "value": "specifiedFields",
          "name": "Specified Fields",
          "description": ""
        },
        {
          "value": "allFieldsExcept",
          "name": "All Fields Except",
          "description": ""
        }
      ]
    },
    "fieldsToInclude": {
      "type": "fixedCollection",
      "displayName": "Fields To Include",
      "name": "fieldsToInclude",
      "typeOptions": {
        "multipleValues": true
      },
      "subProperties": [
        {
          "name": "fields",
          "values": [
            {
              "displayName": "Field Name",
              "name": "fieldName",
              "type": "string",
              "description": "Specify fields that will be included in output array",
              "placeholder": "e.g. id",
              "hint": "Enter the field name as text",
              "default": ""
            }
          ]
        }
      ]
    },
    "aggregate": {
      "type": "options",
      "displayName": "Aggregate",
      "name": "aggregate",
      "possibleValues": [
        {
          "value": "aggregateIndividualFields",
          "name": "Individual Fields",
          "description": ""
        },
        {
          "value": "aggregateAllItemData",
          "name": "All Item Data (Into a Single List)",
          "description": ""
        }
      ]
    },
    "fieldsToAggregate": {
      "type": "fixedCollection",
      "displayName": "Fields To Aggregate",
      "name": "fieldsToAggregate",
      "typeOptions": {
        "multipleValues": true
      },
      "subProperties": [
        {
          "name": "fieldToAggregate",
          "values": [
            {
              "displayName": "Input Field Name",
              "name": "fieldToAggregate",
              "type": "string",
              "description": "The name of a field in the input items to aggregate together",
              "placeholder": "e.g. id",
              "hint": "Enter the field name as text",
              "default": ""
            },
            {
              "displayName": "Rename Field",
              "name": "renameField",
              "type": "boolean",
              "description": "Whether to give the field a different name in the output",
              "default": false
            },
            {
              "displayName": "Output Field Name",
              "name": "outputFieldName",
              "type": "string",
              "description": "The name of the field to put the aggregated data in. Leave blank to use the input field name.",
              "default": "",
              "displayOptions": {
                "show": {
                  "renameField": [
                    true
                  ]
                }
              }
            }
          ]
        }
      ]
    },
    "destinationFieldName": {
      "type": "string",
      "displayName": "Put Output in Field",
      "name": "destinationFieldName"
    },
    "fieldsToExclude": {
      "type": "fixedCollection",
      "displayName": "Fields To Exclude",
      "name": "fieldsToExclude",
      "typeOptions": {
        "multipleValues": true
      },
      "subProperties": [
        {
          "name": "fields",
          "values": [
            {
              "displayName": "Field Name",
              "name": "fieldName",
              "type": "string",
              "description": "A field in the input to exclude from the comparison",
              "placeholder": "e.g. id",
              "hint": "Enter the field name as text",
              "default": ""
            }
          ]
        }
      ]
    },
    "compare": {
      "type": "options",
      "displayName": "Compare",
      "name": "compare",
      "possibleValues": [
        {
          "value": "allFields",
          "name": "All Fields",
          "description": ""
        },
        {
          "value": "allFieldsExcept",
          "name": "All Fields Except",
          "description": ""
        },
        {
          "value": "selectedFields",
          "name": "Selected Fields",
          "description": ""
        }
      ]
    },
    "fieldsToCompare": {
      "type": "fixedCollection",
      "displayName": "Fields To Compare",
      "name": "fieldsToCompare",
      "typeOptions": {
        "multipleValues": true
      },
      "subProperties": [
        {
          "name": "fields",
          "values": [
            {
              "displayName": "Field Name",
              "name": "fieldName",
              "type": "string",
              "description": "A field in the input to add to the comparison",
              "placeholder": "e.g. id",
              "hint": "Enter the field name as text",
              "default": ""
            }
          ]
        }
      ]
    },
    "type": {
      "type": "options",
      "displayName": "Type",
      "name": "type",
      "possibleValues": [
        {
          "value": "simple",
          "name": "Simple",
          "description": ""
        },
        {
          "value": "random",
          "name": "Random",
          "description": ""
        },
        {
          "value": "code",
          "name": "Code",
          "description": ""
        }
      ]
    },
    "sortFieldsUi": {
      "type": "fixedCollection",
      "displayName": "Fields To Sort By",
      "name": "sortFieldsUi",
      "typeOptions": {
        "multipleValues": true
      },
      "subProperties": [
        {
          "name": "sortField",
          "values": [
            {
              "displayName": "Field Name",
              "name": "fieldName",
              "type": "string",
              "description": "The field to sort by",
              "placeholder": "e.g. id",
              "hint": "Enter the field name as text",
              "default": "",
              "required": true
            },
            {
              "displayName": "Order",
              "name": "order",
              "type": "options",
              "description": "The order to sort by",
              "value": "ascending",
              "default": "ascending",
              "options": [
                {
                  "name": "Ascending",
                  "value": "ascending",
                  "displayName": "Ascending"
                },
                {
                  "name": "Descending",
                  "value": "descending",
                  "displayName": "Descending"
                }
              ]
            }
          ]
        }
      ]
    },
    "code": {
      "type": "string",
      "displayName": "Code",
      "name": "code",
      "typeOptions": {
        "rows": 10,
        "alwaysOpenEditWindow": true
      }
    },
    "maxItems": {
      "type": "number",
      "displayName": "Max Items",
      "name": "maxItems",
      "typeOptions": {
        "minValue": 1
      }
    },
    "keep": {
      "type": "options",
      "displayName": "Keep",
      "name": "keep",
      "possibleValues": [
        {
          "value": "firstItems",
          "name": "First Items",
          "description": ""
        },
        {
          "value": "lastItems",
          "name": "Last Items",
          "description": ""
        }
      ]
    },
    "options": {
      "type": "collection",
      "displayName": "Options",
      "name": "options",
      "subProperties": [
        {
          "displayName": "Disable Dot Notation",
          "name": "disableDotNotation",
          "type": "boolean",
          "description": "Whether to disallow referencing child fields using `parent.child` in the field name",
          "default": false
        },
        {
          "displayName": "Output Format",
          "name": "outputFormat",
          "type": "options",
          "value": "separateItems",
          "default": "separateItems",
          "options": [
            {
              "name": "Each Split in a Separate Item",
              "value": "separateItems",
              "displayName": "Each Split In A Separate Item"
            },
            {
              "name": "All Splits in a Single Item",
              "value": "singleItem",
              "displayName": "All Splits In A Single Item"
            }
          ]
        },
        {
          "displayName": "Ignore items without valid fields to group by",
          "name": "skipEmptySplitFields",
          "type": "boolean",
          "default": false
        }
      ]
    },
    "fieldsToSummarize": {
      "type": "fixedCollection",
      "displayName": "Fields to Summarize",
      "name": "fieldsToSummarize",
      "typeOptions": {
        "multipleValues": true
      },
      "subProperties": [
        {
          "name": "values",
          "values": [
            {
              "displayName": "Aggregation",
              "name": "aggregation",
              "type": "options",
              "description": "How to combine the values of the field you want to summarize",
              "value": "append",
              "default": "count",
              "options": [
                {
                  "name": "Append",
                  "value": "append",
                  "displayName": "Append"
                },
                {
                  "name": "Average",
                  "value": "average",
                  "displayName": "Average"
                },
                {
                  "name": "Concatenate",
                  "value": "concatenate",
                  "displayName": "Concatenate"
                },
                {
                  "name": "Count",
                  "value": "count",
                  "displayName": "Count"
                },
                {
                  "name": "Count Unique",
                  "value": "countUnique",
                  "displayName": "Count Unique"
                },
                {
                  "name": "Max",
                  "value": "max",
                  "displayName": "Max"
                },
                {
                  "name": "Min",
                  "value": "min",
                  "displayName": "Min"
                },
                {
                  "name": "Sum",
                  "value": "sum",
                  "displayName": "Sum"
                }
              ]
            },
            {
              "displayName": "Field",
              "name": "field",
              "type": "string",
              "description": "The name of an input field that you want to summarize",
              "placeholder": "e.g. cost",
              "hint": "Enter the field name as text",
              "default": "",
              "displayOptions": {
                "hide": {
                  "aggregation": [
                    "countUnique",
                    "count"
                  ]
                }
              }
            },
            {
              "displayName": "Field",
              "name": "field",
              "type": "string",
              "description": "The name of an input field that you want to summarize. The field should contain numerical values; null, undefined, empty strings would be ignored.",
              "placeholder": "e.g. cost",
              "hint": "Enter the field name as text",
              "default": "",
              "displayOptions": {
                "show": {}
              }
            },
            {
              "displayName": "Field",
              "name": "field",
              "type": "string",
              "description": "The name of an input field that you want to summarize; null, undefined, empty strings would be ignored",
              "placeholder": "e.g. cost",
              "hint": "Enter the field name as text",
              "default": "",
              "displayOptions": {
                "show": {
                  "aggregation": [
                    "countUnique",
                    "count"
                  ]
                }
              }
            },
            {
              "displayName": "Include Empty Values",
              "name": "includeEmpty",
              "type": "boolean",
              "default": false,
              "displayOptions": {
                "show": {
                  "aggregation": [
                    "append",
                    "concatenate"
                  ]
                }
              }
            },
            {
              "displayName": "Separator",
              "name": "separateBy",
              "type": "options",
              "hint": "What to insert between values",
              "value": ",",
              "default": ",",
              "options": [
                {
                  "name": "Comma",
                  "value": ",",
                  "displayName": "Comma"
                },
                {
                  "name": "Comma and Space",
                  "value": ",",
                  "displayName": "Comma And Space"
                },
                {
                  "name": "New Line",
                  "value": "n",
                  "displayName": "New Line"
                },
                {
                  "name": "None",
                  "displayName": "None"
                },
                {
                  "name": "Space",
                  "displayName": "Space"
                },
                {
                  "name": "Other",
                  "value": "other",
                  "displayName": "Other"
                }
              ],
              "displayOptions": {
                "show": {
                  "aggregation": [
                    "concatenate"
                  ]
                }
              }
            },
            {
              "displayName": "Custom Separator",
              "name": "customSeparator",
              "type": "string",
              "default": "",
              "displayOptions": {
                "show": {
                  "aggregation": [
                    "concatenate"
                  ],
                  "separateBy": [
                    "other"
                  ]
                }
              }
            }
          ]
        }
      ]
    },
    "fieldsToSplitBy": {
      "type": "string",
      "displayName": "Fields to Group By",
      "name": "fieldsToSplitBy"
    }
  },
  "api_patterns": {},
  "ui_elements": {
    "notices": [],
    "tooltips": [],
    "placeholders": [
      {
        "field": "fieldsToInclude",
        "text": "Add Field To Include"
      },
      {
        "field": "fieldsToAggregate",
        "text": "Add Field To Aggregate"
      },
      {
        "field": "fieldsToExclude",
        "text": "Add Field To Exclude"
      },
      {
        "field": "fieldsToInclude",
        "text": "Add Field To Include"
      },
      {
        "field": "fieldsToExclude",
        "text": "Add Field To Exclude"
      },
      {
        "field": "fieldsToCompare",
        "text": "Add Field To Compare"
      },
      {
        "field": "sortFieldsUi",
        "text": "Add Field To Sort By"
      },
      {
        "field": "options",
        "text": "Add Field"
      },
      {
        "field": "options",
        "text": "Add Field"
      },
      {
        "field": "options",
        "text": "Add Field"
      },
      {
        "field": "fieldsToSummarize",
        "text": "Add Field"
      },
      {
        "field": "fieldsToSplitBy",
        "text": "e.g. country, city"
      },
      {
        "field": "fieldsToSplitBy",
        "text": "e.g. country, city"
      },
      {
        "field": "options",
        "text": "Add option"
      }
    ],
    "hints": [
      {
        "field": "fieldsToInclude",
        "text": "Enter the field name as text"
      },
      {
        "field": "fieldsToAggregate",
        "text": "Enter the field name as text"
      },
      {
        "field": "fieldsToExclude",
        "text": "Enter the field name as text"
      },
      {
        "field": "fieldsToInclude",
        "text": "Enter the field name as text"
      },
      {
        "field": "fieldsToExclude",
        "text": "Enter the field name as text"
      },
      {
        "field": "fieldsToCompare",
        "text": "Enter the field name as text"
      },
      {
        "field": "sortFieldsUi",
        "text": "Enter the field name as text"
      },
      {
        "field": "fieldsToSummarize",
        "text": "Enter the field name as text"
      },
      {
        "field": "fieldsToSplitBy",
        "text": "Enter the name of the fields as text (separated by commas)"
      },
      {
        "field": "fieldsToSplitBy",
        "text": "Enter the name of the fields as text (separated by commas)"
      }
    ]
  },
  "settings": {
    "common": {
      "notes": {
        "name": "Notes",
        "field_id": "notes",
        "type": "string",
        "default": "",
        "description": "Optional note to save with the node"
      },
      "notesInFlow": {
        "name": "Display Note in Flow?",
        "field_id": "notesInFlow",
        "type": "boolean",
        "default": false,
        "description": "If active, the note above will display in the flow as a subtitle"
      }
    },
    "executable": {
      "alwaysOutputData": {
        "name": "Always Output Data",
        "field_id": "alwaysOutputData",
        "type": "boolean",
        "default": false,
        "description": "If active, will output a single, empty item when the output would have been empty. Use to prevent the workflow finishing on this node"
      },
      "executeOnce": {
        "name": "Execute Once",
        "field_id": "executeOnce",
        "type": "boolean",
        "default": false,
        "description": "If active, the node executes only once, with data from the first item it receives"
      },
      "retryOnFail": {
        "name": "Retry On Fail",
        "field_id": "retryOnFail",
        "type": "boolean",
        "default": false,
        "description": "If active, the node tries to execute again when it fails"
      },
      "maxTries": {
        "name": "Max. Tries",
        "field_id": "maxTries",
        "type": "number",
        "default": 3,
        "min": 2,
        "max": 5,
        "description": "Number of times to attempt to execute the node before failing the execution",
        "displayOptions": {
          "show": {
            "retryOnFail": [
              true
            ]
          }
        }
      },
      "waitBetweenTries": {
        "name": "Wait Between Tries (ms)",
        "field_id": "waitBetweenTries",
        "type": "number",
        "default": 1000,
        "min": 0,
        "max": 5000,
        "description": "How long to wait between each attempt (in milliseconds)",
        "displayOptions": {
          "show": {
            "retryOnFail": [
              true
            ]
          }
        }
      },
      "onError": {
        "name": "On Error",
        "field_id": "onError",
        "type": "options",
        "default": "stopWorkflow",
        "description": "Action to take when the node execution fails",
        "options": [
          {
            "name": "Stop Workflow",
            "value": "stopWorkflow",
            "description": "Halt execution and fail workflow"
          },
          {
            "name": "Continue",
            "value": "continueRegularOutput",
            "description": "Pass error message as item in regular output"
          },
          {
            "name": "Continue (using error output)",
            "value": "continueErrorOutput",
            "description": "Pass item to an extra `error` output"
          }
        ]
      }
    },
    "note": "Executable nodes have both common and executable settings"
  }
}