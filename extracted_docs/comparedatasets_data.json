{
  "node_info": {
    "icon": "file:compare.svg",
    "defaults": {
      "name": "Compare Datasets"
    },
    "inputs": [
      "Main",
      "Main"
    ],
    "outputs": [
      "Main",
      "Main",
      "Main",
      "Main"
    ],
    "group": [
      "transform"
    ],
    "authentication": [],
    "loadOptionsMethods": [],
    "eventTriggerDescription": "",
    "activationMessage": "",
    "triggerPanel": {},
    "supportsCORS": false,
    "displayName": "Compare Datasets",
    "name": "compareDatasets",
    "description": "Compare two inputs for changes",
    "subtitle": "",
    "version": [
      "1",
      "2",
      "2.1",
      "2.2",
      "2.3"
    ],
    "node_type": "regular"
  },
  "metadata": {
    "node": "n8n-nodes-base.compareDatasets",
    "nodeVersion": "1.0",
    "codexVersion": "1.0",
    "categories": [
      "Core Nodes"
    ],
    "resources": {
      "primaryDocumentation": [
        {
          "url": "https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.comparedatasets/"
        }
      ],
      "generic": [
        {
          "label": "How to synchronize data between two systems (one-way vs. two-way sync",
          "icon": "\ud83c\udfec",
          "url": "https://n8n.io/blog/how-to-sync-data-between-two-systems/"
        },
        {
          "label": "Supercharging your conference registration process with n8n",
          "icon": "\ud83c\udfab",
          "url": "https://n8n.io/blog/supercharging-your-conference-registration-process-with-n8n/"
        },
        {
          "label": "Migrating Community Metrics to Orbit using n8n",
          "icon": "\ud83d\udcc8",
          "url": "https://n8n.io/blog/migrating-community-metrics-to-orbit-using-n8n/"
        },
        {
          "label": "Build your own virtual assistant with n8n: A step by step guide",
          "icon": "\ud83d\udc66",
          "url": "https://n8n.io/blog/build-your-own-virtual-assistant-with-n8n-a-step-by-step-guide/"
        },
        {
          "label": "Sending Automated Congratulations with Google Sheets, Twilio, and n8n ",
          "icon": "\ud83d\ude4c",
          "url": "https://n8n.io/blog/sending-automated-congratulations-with-google-sheets-twilio-and-n8n/"
        },
        {
          "label": "7 no-code workflow automations for Amazon Web Services",
          "url": "https://n8n.io/blog/aws-workflow-automation/"
        }
      ]
    },
    "alias": [
      "Join",
      "Concatenate",
      "Compare",
      "Dataset",
      "Split",
      "Sync",
      "Syncing"
    ],
    "subcategories": {
      "Core Nodes": [
        "Flow"
      ]
    }
  },
  "properties": [
    {
      "displayName": "Items from different branches are paired together when the fields below match. If paired, the rest of the fields are compared to determine whether the items are the same or different",
      "name": "infoBox",
      "type": "notice",
      "default": ""
    },
    {
      "displayName": "Fields to Match",
      "name": "mergeByFields",
      "type": "fixedCollection",
      "placeholder": "Add Fields to Match",
      "hint": "Enter the field name as text",
      "default": "",
      "options": [
        {
          "name": "values",
          "displayName": "Values",
          "values": [
            {
              "displayName": "Input A Field",
              "name": "field1",
              "type": "string",
              "placeholder": "e.g. id",
              "hint": "Enter the field name as text",
              "default": ""
            },
            {
              "displayName": "Input B Field",
              "name": "field2",
              "type": "string",
              "placeholder": "e.g. id",
              "hint": "Enter the field name as text",
              "default": ""
            }
          ]
        }
      ],
      "typeOptions": {
        "multipleValues": true
      }
    },
    {
      "displayName": "When There Are Differences",
      "name": "resolve",
      "type": "options",
      "description": "Output uses different inputs for different fields",
      "value": "preferInput1",
      "default": "preferInput2",
      "options": [
        {
          "name": "Use Input A Version",
          "value": "preferInput1",
          "displayName": "Use Input A Version"
        },
        {
          "name": "Use Input B Version",
          "value": "preferInput2",
          "displayName": "Use Input B Version"
        },
        {
          "name": "Use a Mix of Versions",
          "description": "Output uses different inputs for different fields",
          "value": "mix",
          "displayName": "Use A Mix Of Versions"
        },
        {
          "name": "Include Both Versions",
          "description": "Output contains all data (but structure more complex)",
          "value": "includeBoth",
          "displayName": "Include Both Versions"
        }
      ],
      "displayOptions": {
        "show": {}
      }
    },
    {
      "displayName": "When There Are Differences",
      "name": "resolve",
      "type": "options",
      "description": "Output uses different inputs for different fields",
      "value": "preferInput1",
      "default": "includeBoth",
      "options": [
        {
          "name": "Use Input A Version",
          "value": "preferInput1",
          "displayName": "Use Input A Version"
        },
        {
          "name": "Use Input B Version",
          "value": "preferInput2",
          "displayName": "Use Input B Version"
        },
        {
          "name": "Use a Mix of Versions",
          "description": "Output uses different inputs for different fields",
          "value": "mix",
          "displayName": "Use A Mix Of Versions"
        },
        {
          "name": "Include Both Versions",
          "description": "Output contains all data (but structure more complex)",
          "value": "includeBoth",
          "displayName": "Include Both Versions"
        }
      ],
      "displayOptions": {
        "hide": {}
      }
    },
    {
      "displayName": "Fuzzy Compare",
      "name": "fuzzyCompare",
      "type": "boolean",
      "description": "Whether to tolerate small type differences when comparing fields. E.g. the number 3 and the string '3' are treated as the same.",
      "default": false,
      "displayOptions": {
        "hide": {}
      }
    },
    {
      "displayName": "Prefer",
      "name": "preferWhenMix",
      "type": "options",
      "value": "input1",
      "default": "input1",
      "options": [
        {
          "name": "Input A Version",
          "value": "input1",
          "displayName": "Input A Version"
        },
        {
          "name": "Input B Version",
          "value": "input2",
          "displayName": "Input B Version"
        }
      ],
      "displayOptions": {
        "show": {
          "resolve": [
            "mix"
          ]
        }
      }
    },
    {
      "displayName": "For Everything Except",
      "name": "exceptWhenMix",
      "type": "string",
      "placeholder": "e.g. id, country",
      "hint": "Enter the names of the input fields as text, separated by commas",
      "default": "",
      "displayOptions": {
        "show": {
          "resolve": [
            "mix"
          ]
        }
      }
    },
    {
      "displayName": "Options",
      "name": "options",
      "type": "collection",
      "description": "Fields that shouldn't be included when checking whether two items are the same",
      "placeholder": "Add option",
      "hint": "Enter the field names as text, separated by commas",
      "value": "first",
      "default": {},
      "options": [
        {
          "displayName": "Fields to Skip Comparing",
          "name": "skipFields",
          "type": "string",
          "description": "Fields that shouldn't be included when checking whether two items are the same",
          "placeholder": "e.g. updated_at, updated_by",
          "hint": "Enter the field names as text, separated by commas",
          "default": ""
        },
        {
          "displayName": "Fuzzy Compare",
          "name": "fuzzyCompare",
          "type": "boolean",
          "description": "Whether to tolerate small type differences when comparing fields. E.g. the number 3 and the string '3' are treated as the same.",
          "default": false,
          "displayOptions": {
            "show": {}
          }
        },
        {
          "displayName": "Disable Dot Notation",
          "name": "disableDotNotation",
          "type": "boolean",
          "description": "Whether to disallow referencing child fields using `parent.child` in the field name",
          "default": false
        },
        {
          "displayName": "Multiple Matches",
          "name": "multipleMatches",
          "type": "options",
          "description": "Only ever output a single item per match",
          "value": "first",
          "default": "first",
          "options": [
            {
              "name": "Include First Match Only",
              "description": "Only ever output a single item per match",
              "value": "first",
              "displayName": "Include First Match Only"
            },
            {
              "name": "Include All Matches",
              "description": "Output multiple items if there are multiple matches",
              "value": "all",
              "displayName": "Include All Matches"
            }
          ]
        }
      ],
      "displayOptions": {
        "show": {}
      }
    }
  ],
  "operations": [],
  "operations_by_resource": {},
  "credentials": [],
  "workflow_examples": [],
  "expressions": [],
  "validation_rules": {
    "resolve": {
      "displayOptions": {
        "hide": {}
      }
    },
    "fuzzyCompare": {
      "displayOptions": {
        "hide": {}
      }
    },
    "preferWhenMix": {
      "displayOptions": {
        "show": {
          "resolve": [
            "mix"
          ]
        }
      }
    },
    "exceptWhenMix": {
      "displayOptions": {
        "show": {
          "resolve": [
            "mix"
          ]
        }
      }
    },
    "options": {
      "displayOptions": {
        "show": {}
      }
    }
  },
  "type_info": {
    "infoBox": {
      "type": "notice",
      "displayName": "Items from different branches are paired together when the fields below match. If paired, the rest of the fields are compared to determine whether the items are the same or different",
      "name": "infoBox"
    },
    "mergeByFields": {
      "type": "fixedCollection",
      "displayName": "Fields to Match",
      "name": "mergeByFields",
      "typeOptions": {
        "multipleValues": true
      },
      "subProperties": [
        {
          "name": "values",
          "displayName": "Values",
          "values": [
            {
              "displayName": "Input A Field",
              "name": "field1",
              "type": "string",
              "placeholder": "e.g. id",
              "hint": "Enter the field name as text",
              "default": ""
            },
            {
              "displayName": "Input B Field",
              "name": "field2",
              "type": "string",
              "placeholder": "e.g. id",
              "hint": "Enter the field name as text",
              "default": ""
            }
          ]
        }
      ]
    },
    "resolve": {
      "type": "options",
      "displayName": "When There Are Differences",
      "name": "resolve",
      "possibleValues": [
        {
          "value": "preferInput1",
          "name": "Use Input A Version",
          "description": ""
        },
        {
          "value": "preferInput2",
          "name": "Use Input B Version",
          "description": ""
        },
        {
          "value": "mix",
          "name": "Use a Mix of Versions",
          "description": "Output uses different inputs for different fields"
        },
        {
          "value": "includeBoth",
          "name": "Include Both Versions",
          "description": "Output contains all data (but structure more complex)"
        }
      ]
    },
    "fuzzyCompare": {
      "type": "boolean",
      "displayName": "Fuzzy Compare",
      "name": "fuzzyCompare"
    },
    "preferWhenMix": {
      "type": "options",
      "displayName": "Prefer",
      "name": "preferWhenMix",
      "possibleValues": [
        {
          "value": "input1",
          "name": "Input A Version",
          "description": ""
        },
        {
          "value": "input2",
          "name": "Input B Version",
          "description": ""
        }
      ]
    },
    "exceptWhenMix": {
      "type": "string",
      "displayName": "For Everything Except",
      "name": "exceptWhenMix"
    },
    "options": {
      "type": "collection",
      "displayName": "Options",
      "name": "options",
      "subProperties": [
        {
          "displayName": "Fields to Skip Comparing",
          "name": "skipFields",
          "type": "string",
          "description": "Fields that shouldn't be included when checking whether two items are the same",
          "placeholder": "e.g. updated_at, updated_by",
          "hint": "Enter the field names as text, separated by commas",
          "default": ""
        },
        {
          "displayName": "Fuzzy Compare",
          "name": "fuzzyCompare",
          "type": "boolean",
          "description": "Whether to tolerate small type differences when comparing fields. E.g. the number 3 and the string '3' are treated as the same.",
          "default": false,
          "displayOptions": {
            "show": {}
          }
        },
        {
          "displayName": "Disable Dot Notation",
          "name": "disableDotNotation",
          "type": "boolean",
          "description": "Whether to disallow referencing child fields using `parent.child` in the field name",
          "default": false
        },
        {
          "displayName": "Multiple Matches",
          "name": "multipleMatches",
          "type": "options",
          "description": "Only ever output a single item per match",
          "value": "first",
          "default": "first",
          "options": [
            {
              "name": "Include First Match Only",
              "description": "Only ever output a single item per match",
              "value": "first",
              "displayName": "Include First Match Only"
            },
            {
              "name": "Include All Matches",
              "description": "Output multiple items if there are multiple matches",
              "value": "all",
              "displayName": "Include All Matches"
            }
          ]
        }
      ]
    }
  },
  "api_patterns": {
    "http_methods": [],
    "endpoints": [],
    "headers": [],
    "query_params": []
  },
  "ui_elements": {
    "notices": [
      {
        "name": "infoBox",
        "text": "Items from different branches are paired together when the fields below match. If paired, the rest of the fields are compared to determine whether the items are the same or different",
        "conditions": null
      }
    ],
    "tooltips": [],
    "placeholders": [
      {
        "field": "mergeByFields",
        "text": "Add Fields to Match"
      },
      {
        "field": "exceptWhenMix",
        "text": "e.g. id, country"
      },
      {
        "field": "options",
        "text": "Add option"
      }
    ],
    "hints": [
      {
        "field": "mergeByFields",
        "text": "Enter the field name as text"
      },
      {
        "field": "exceptWhenMix",
        "text": "Enter the names of the input fields as text, separated by commas"
      },
      {
        "field": "options",
        "text": "Enter the field names as text, separated by commas"
      }
    ]
  },
  "settings": {
    "common": {
      "notes": {
        "name": "Notes",
        "field_id": "notes",
        "type": "string",
        "default": "",
        "description": "Optional note to save with the node"
      },
      "notesInFlow": {
        "name": "Display Note in Flow?",
        "field_id": "notesInFlow",
        "type": "boolean",
        "default": false,
        "description": "If active, the note above will display in the flow as a subtitle"
      }
    },
    "executable": {
      "alwaysOutputData": {
        "name": "Always Output Data",
        "field_id": "alwaysOutputData",
        "type": "boolean",
        "default": false,
        "description": "If active, will output a single, empty item when the output would have been empty. Use to prevent the workflow finishing on this node"
      },
      "executeOnce": {
        "name": "Execute Once",
        "field_id": "executeOnce",
        "type": "boolean",
        "default": false,
        "description": "If active, the node executes only once, with data from the first item it receives"
      },
      "retryOnFail": {
        "name": "Retry On Fail",
        "field_id": "retryOnFail",
        "type": "boolean",
        "default": false,
        "description": "If active, the node tries to execute again when it fails"
      },
      "maxTries": {
        "name": "Max. Tries",
        "field_id": "maxTries",
        "type": "number",
        "default": 3,
        "min": 2,
        "max": 5,
        "description": "Number of times to attempt to execute the node before failing the execution",
        "displayOptions": {
          "show": {
            "retryOnFail": [
              true
            ]
          }
        }
      },
      "waitBetweenTries": {
        "name": "Wait Between Tries (ms)",
        "field_id": "waitBetweenTries",
        "type": "number",
        "default": 1000,
        "min": 0,
        "max": 5000,
        "description": "How long to wait between each attempt (in milliseconds)",
        "displayOptions": {
          "show": {
            "retryOnFail": [
              true
            ]
          }
        }
      },
      "onError": {
        "name": "On Error",
        "field_id": "onError",
        "type": "options",
        "default": "stopWorkflow",
        "description": "Action to take when the node execution fails",
        "options": [
          {
            "name": "Stop Workflow",
            "value": "stopWorkflow",
            "description": "Halt execution and fail workflow"
          },
          {
            "name": "Continue",
            "value": "continueRegularOutput",
            "description": "Pass error message as item in regular output"
          },
          {
            "name": "Continue (using error output)",
            "value": "continueErrorOutput",
            "description": "Pass item to an extra `error` output"
          }
        ]
      }
    },
    "note": "Executable nodes have both common and executable settings"
  }
}